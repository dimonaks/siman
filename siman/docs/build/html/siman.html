
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>siman package &#8212; Siman 0.9.5 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Siman 0.9.5 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="siman-package">
<h1>siman package<a class="headerlink" href="#siman-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="siman.chg.html">siman.chg package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="siman.chg.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="siman.chg.html#module-siman.chg.chg_func">siman.chg.chg_func module</a></li>
<li class="toctree-l2"><a class="reference internal" href="siman.chg.html#module-siman.chg.vasputil_chgarith_module">siman.chg.vasputil_chgarith_module module</a></li>
<li class="toctree-l2"><a class="reference internal" href="siman.chg.html#module-siman.chg">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-siman.3d_plot">
<span id="siman-3d-plot-module"></span><h2>siman.3d_plot module<a class="headerlink" href="#module-siman.3d_plot" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-siman.SSHTools">
<span id="siman-sshtools-module"></span><h2>siman.SSHTools module<a class="headerlink" href="#module-siman.SSHTools" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="siman.SSHTools.SSHTools">
<em class="property">class </em><code class="descclassname">siman.SSHTools.</code><code class="descname">SSHTools</code><a class="reference internal" href="_modules/siman/SSHTools.html#SSHTools"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.SSHTools.SSHTools" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="siman.SSHTools.SSHTools.fexists">
<code class="descname">fexists</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/SSHTools.html#SSHTools.fexists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.SSHTools.SSHTools.fexists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.SSHTools.SSHTools.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>source</em>, <em>dest</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/SSHTools.html#SSHTools.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.SSHTools.SSHTools.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="siman.SSHTools.SSHTools.host">
<code class="descname">host</code><em class="property"> = ''</em><a class="headerlink" href="#siman.SSHTools.SSHTools.host" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="siman.SSHTools.SSHTools.pkey">
<code class="descname">pkey</code><em class="property"> = ''</em><a class="headerlink" href="#siman.SSHTools.SSHTools.pkey" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="siman.SSHTools.SSHTools.pkeypath">
<code class="descname">pkeypath</code><em class="property"> = ''</em><a class="headerlink" href="#siman.SSHTools.SSHTools.pkeypath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="siman.SSHTools.SSHTools.port">
<code class="descname">port</code><em class="property"> = 22</em><a class="headerlink" href="#siman.SSHTools.SSHTools.port" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.SSHTools.SSHTools.put">
<code class="descname">put</code><span class="sig-paren">(</span><em>source</em>, <em>dest</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/SSHTools.html#SSHTools.put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.SSHTools.SSHTools.put" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.SSHTools.SSHTools.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>command</em>, <em>noerror=False</em>, <em>printout=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/SSHTools.html#SSHTools.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.SSHTools.SSHTools.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.SSHTools.SSHTools.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>user=''</em>, <em>host=''</em>, <em>pkey=''</em>, <em>port=22</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/SSHTools.html#SSHTools.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.SSHTools.SSHTools.setup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.SSHTools.SSHTools.sget">
<code class="descname">sget</code><span class="sig-paren">(</span><em>source</em>, <em>dest</em>, <em>keeplocal=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/SSHTools.html#SSHTools.sget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.SSHTools.SSHTools.sget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="siman.SSHTools.SSHTools.user">
<code class="descname">user</code><em class="property"> = ''</em><a class="headerlink" href="#siman.SSHTools.SSHTools.user" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-siman.analysis">
<span id="siman-analysis-module"></span><h2>siman.analysis module<a class="headerlink" href="#module-siman.analysis" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.analysis.around_alkali">
<code class="descclassname">siman.analysis.</code><code class="descname">around_alkali</code><span class="sig-paren">(</span><em>st</em>, <em>nn</em>, <em>alkali_ion_number</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/analysis.html#around_alkali"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.analysis.around_alkali" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.analysis.calc_oxidation_states">
<code class="descclassname">siman.analysis.</code><code class="descname">calc_oxidation_states</code><span class="sig-paren">(</span><em>cl=None</em>, <em>st=None</em>, <em>silent=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/analysis.html#calc_oxidation_states"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.analysis.calc_oxidation_states" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.analysis.calc_redox">
<code class="descclassname">siman.analysis.</code><code class="descname">calc_redox</code><span class="sig-paren">(</span><em>cl1</em>, <em>cl2</em>, <em>energy_ref=None</em>, <em>value=0</em>, <em>temp=None</em>, <em>silent=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/analysis.html#calc_redox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.analysis.calc_redox" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculated average redox potential and change of volume
cl1 (Calculation) - structure with higher concentration
cl2 (Calculation) - structure with lower concentration
energy_ref (float) - energy in eV per one alkali ion in anode; default value is for Li; -1.31 eV for Na, -1.02 eV for K</p>
<p>temp(float) - potential at temperature, self.F is expected from phonopy calculations</p>
</dd></dl>

<dl class="function">
<dt id="siman.analysis.chgsum">
<code class="descclassname">siman.analysis.</code><code class="descname">chgsum</code><span class="sig-paren">(</span><em>cll</em>, <em>el</em>, <em>site</em>, <em>silent=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/analysis.html#chgsum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.analysis.chgsum" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate sum of Bader charges for particular atoms</p>
</dd></dl>

<dl class="function">
<dt id="siman.analysis.determine_barrier">
<code class="descclassname">siman.analysis.</code><code class="descname">determine_barrier</code><span class="sig-paren">(</span><em>positions=None</em>, <em>energies=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/analysis.html#determine_barrier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.analysis.determine_barrier" title="Permalink to this definition">¶</a></dt>
<dd><p>The sign of barrier determined by the curvuture at saddle point. Minimum at saddle point corresponds to negative barrier
The saddle point is determined as maximum deviation from energy in initial position</p>
</dd></dl>

<dl class="function">
<dt id="siman.analysis.find_polaron">
<code class="descclassname">siman.analysis.</code><code class="descname">find_polaron</code><span class="sig-paren">(</span><em>st</em>, <em>i_alk_ion</em>, <em>out_prec=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/analysis.html#find_polaron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.analysis.find_polaron" title="Permalink to this definition">¶</a></dt>
<dd><p>#using magmom, find the transition atoms that have different magnetic moments
#i_alk_ion - number of ion from 0 to calculate distances to transition metals
out_prec (int) - precision of magmom output</p>
<p># maglist = cli.end.get_maglist()
# magm = np.array(cli.end.magmom)</p>
<p># n_tm = len(magm[maglist])
# # print(len(maglist))
# numb, dist, chosen_ion = around_alkali(cli.end, n_tm, atom_num)
# # print(magm[numb][1:]) 
# mtm = magm[numb][1:] # the first is alkali</p>
<p># m_av = sum(mtm)/len(mtm)
# print(mtm-m_av)</p>
</dd></dl>

<dl class="function">
<dt id="siman.analysis.fit_a">
<code class="descclassname">siman.analysis.</code><code class="descname">fit_a</code><span class="sig-paren">(</span><em>conv</em>, <em>n</em>, <em>description_for_archive</em>, <em>analysis_type</em>, <em>show</em>, <em>push2archive</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/analysis.html#fit_a"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.analysis.fit_a" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit equation of state for bulk systems.</p>
<p>The following equation is used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sjeos</span> <span class="p">(</span><span class="n">default</span><span class="p">)</span>
    <span class="n">A</span> <span class="n">third</span> <span class="n">order</span> <span class="n">inverse</span> <span class="n">polynomial</span> <span class="n">fit</span> <span class="mf">10.1103</span><span class="o">/</span><span class="n">PhysRevB</span><span class="o">.</span><span class="mf">67.026103</span>

                    <span class="mi">2</span>      <span class="mi">3</span>        <span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span>
<span class="n">E</span><span class="p">(</span><span class="n">V</span><span class="p">)</span> <span class="o">=</span> <span class="n">c</span> <span class="o">+</span> <span class="n">c</span> <span class="n">t</span> <span class="o">+</span> <span class="n">c</span> <span class="n">t</span>  <span class="o">+</span> <span class="n">c</span> <span class="n">t</span> <span class="p">,</span>  <span class="n">t</span> <span class="o">=</span> <span class="n">V</span>
        <span class="mi">0</span>   <span class="mi">1</span>     <span class="mi">2</span>      <span class="mi">3</span>

<span class="n">taylor</span>
    <span class="n">A</span> <span class="n">third</span> <span class="n">order</span> <span class="n">Taylor</span> <span class="n">series</span> <span class="n">expansion</span> <span class="n">about</span> <span class="n">the</span> <span class="n">minimum</span> <span class="n">volume</span>

<span class="n">murnaghan</span>
    <span class="n">PRB</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">5480</span> <span class="p">(</span><span class="mi">1983</span><span class="p">)</span>

<span class="n">birch</span>
    <span class="n">Intermetallic</span> <span class="n">compounds</span><span class="p">:</span> <span class="n">Principles</span> <span class="ow">and</span> <span class="n">Practice</span><span class="p">,</span>
    <span class="n">Vol</span> <span class="n">I</span><span class="p">:</span> <span class="n">Principles</span><span class="o">.</span> <span class="n">pages</span> <span class="mi">195</span><span class="o">-</span><span class="mi">210</span>

<span class="n">birchmurnaghan</span>
    <span class="n">PRB</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">224107</span>

<span class="n">pouriertarantola</span>
    <span class="n">PRB</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">224107</span>

<span class="n">vinet</span>
    <span class="n">PRB</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">224107</span>

<span class="n">antonschmidt</span>
    <span class="n">Intermetallics</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">23</span><span class="o">-</span><span class="mi">32</span> <span class="p">(</span><span class="mi">2003</span><span class="p">)</span>

<span class="n">p3</span>
    <span class="n">A</span> <span class="n">third</span> <span class="n">order</span> <span class="n">polynomial</span> <span class="n">fit</span>

 <span class="n">Use</span><span class="p">::</span>

    <span class="n">eos</span> <span class="o">=</span> <span class="n">EquationOfState</span><span class="p">(</span><span class="n">volumes</span><span class="p">,</span> <span class="n">energies</span><span class="p">,</span> <span class="n">eos</span><span class="o">=</span><span class="s1">&#39;sjeos&#39;</span><span class="p">)</span>
    <span class="n">v0</span><span class="p">,</span> <span class="n">e0</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">eos</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
    <span class="n">eos</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="siman.analysis.form_en">
<code class="descclassname">siman.analysis.</code><code class="descname">form_en</code><span class="sig-paren">(</span><em>sources</em>, <em>products</em>, <em>norm_el=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/analysis.html#form_en"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.analysis.form_en" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate formation energy of reaction.</p>
<p>sources, products - list of tuples (x, cl), where x is multiplier and cl is calculation
norm_el  - which element to use for normalization</p>
<blockquote>
<div>‘all’ - normalize by total number of atoms
‘el’
int - divide by this number</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="siman.analysis.matrix_diff">
<code class="descclassname">siman.analysis.</code><code class="descname">matrix_diff</code><span class="sig-paren">(</span><em>cl1</em>, <em>cl2</em>, <em>energy_ref=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/analysis.html#matrix_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.analysis.matrix_diff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.analysis.neb_analysis">
<code class="descclassname">siman.analysis.</code><code class="descname">neb_analysis</code><span class="sig-paren">(</span><em>cl</em>, <em>show</em>, <em>up=None</em>, <em>push2archive=None</em>, <em>old_behaviour=None</em>, <em>results_dic=None</em>, <em>fitplot_args=None</em>, <em>style_dic=None</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/analysis.html#neb_analysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.analysis.neb_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyse traectories and polarons</p>
<dl class="docutils">
<dt>params</dt>
<dd>mep_shift_vector</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="siman.analysis.set_oxidation_states">
<code class="descclassname">siman.analysis.</code><code class="descname">set_oxidation_states</code><span class="sig-paren">(</span><em>st</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/analysis.html#set_oxidation_states"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.analysis.set_oxidation_states" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.analysis.suf_en">
<code class="descclassname">siman.analysis.</code><code class="descname">suf_en</code><span class="sig-paren">(</span><em>cl1</em>, <em>cl2</em>, <em>silent=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/analysis.html#suf_en"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.analysis.suf_en" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate surface energy
cl1 - supercell with surface
cl2 - comensurate bulk supercell
the area is determined from r[0] and r[1];- i.e they lie in surface</p>
</dd></dl>

</div>
<div class="section" id="module-siman.bands">
<span id="siman-bands-module"></span><h2>siman.bands module<a class="headerlink" href="#module-siman.bands" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.bands.plot_bands">
<code class="descclassname">siman.bands.</code><code class="descname">plot_bands</code><span class="sig-paren">(</span><em>vasprun_dos</em>, <em>vasprun_bands</em>, <em>kpoints</em>, <em>element</em>, <em>ylim=(None</em>, <em>None)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/bands.html#plot_bands"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.bands.plot_bands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.bands.read_kpoint_labels">
<code class="descclassname">siman.bands.</code><code class="descname">read_kpoint_labels</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/bands.html#read_kpoint_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.bands.read_kpoint_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Read commented kpoint labels from VASP KPOINTS file</p>
</dd></dl>

<dl class="function">
<dt id="siman.bands.rgbline">
<code class="descclassname">siman.bands.</code><code class="descname">rgbline</code><span class="sig-paren">(</span><em>ax</em>, <em>k</em>, <em>e</em>, <em>red</em>, <em>green</em>, <em>blue</em>, <em>alpha=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/bands.html#rgbline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.bands.rgbline" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-siman.calc_manage">
<span id="siman-calc-manage-module"></span><h2>siman.calc_manage module<a class="headerlink" href="#module-siman.calc_manage" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.calc_manage.add">
<code class="descclassname">siman.calc_manage.</code><code class="descname">add</code><span class="sig-paren">(</span><em>it</em>, <em>setlist</em>, <em>verlist</em>, <em>calc=None</em>, <em>varset=None</em>, <em>up='up2'</em>, <em>inherit_option=None</em>, <em>id_from=None</em>, <em>inherit_args=None</em>, <em>confdic=None</em>, <em>i_atom_to_remove=None</em>, <em>coord='direct'</em>, <em>savefile='oc'</em>, <em>show=''</em>, <em>comment=''</em>, <em>input_geo_format=None</em>, <em>ifolder=None</em>, <em>input_geo_file=None</em>, <em>input_st=None</em>, <em>corenum=None</em>, <em>calc_method=None</em>, <em>u_ramping_region=None</em>, <em>it_folder=None</em>, <em>mat_proj_cell=''</em>, <em>mat_proj_id=None</em>, <em>cee_args=None</em>, <em>ise_new=None</em>, <em>it_suffix=None</em>, <em>scale_region=None</em>, <em>n_scale_images=7</em>, <em>n_neb_images=None</em>, <em>occ_atom_coressp=None</em>, <em>ortho=None</em>, <em>mul_matrix=None</em>, <em>ngkpt=None</em>, <em>cluster=None</em>, <em>cluster_home=None</em>, <em>override=None</em>, <em>ssh_object=None</em>, <em>run=False</em>, <em>check_job=1</em>, <em>params=None</em><span class="sig-paren">)</span><a class="headerlink" href="#siman.calc_manage.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Main subroutine for creation of calculations, saving them to database and sending to server.</p>
<p>Input:</p>
<blockquote>
<div><ul>
<li><p class="first">it - arbitary name for your crystal structure</p>
</li>
<li><p class="first">setlist (list of str or str) - names of sets with vasp parameters from <em>varset</em> dictionary</p>
</li>
<li><p class="first">verlist - list of versions of new calculations</p>
</li>
<li><p class="first">calc, varset - database dictionaries; could be provided; if not then are taken from header</p>
</li>
<li><p class="first">input_geo_format - format of files in input geo folder</p>
<blockquote>
<div><p>‘abinit’ - the version is determined from the value inside the file
‘vasp’, ‘cif’ -   the version is determined from the name of file; the names should be like POSCAR-1 for vasp files and 1.name.cif for cif
‘mat_proj’ - take structure from materialsproject.org; use it_folder, len(verlist) = 1</p>
</div></blockquote>
</li>
<li><p class="first">up - string, possible values are: ‘up1’, ‘up2’, ‘no_base’; if empty then test run is performed without saving and sending</p>
<blockquote>
<div><p>‘up1’ - needed for normal creation of calculation and copy to server all files
‘no_base’: only relevant for typconv
is the same as “up1”, but the base set is ommited
‘up2’ - update only unfinished calculations
‘up3’ - run only if id does not exist</p>
</div></blockquote>
</li>
<li><p class="first">coord - type of cooridnates written in POSCAR:</p>
<blockquote>
<div><p>‘direct’
‘cart’</p>
</div></blockquote>
</li>
<li><p class="first">savefile - controls which files are saved during VASP run on server; check</p>
<blockquote>
<div><p>‘ocvdawx’ - outcar, chgcar, chg, dos, AECCAR,WAVECAR, xml</p>
</div></blockquote>
</li>
<li><p class="first">ifolder - explicit path to folder where to search for input geo file.</p>
</li>
<li><p class="first">input_geo_file - explicit file name of input file</p>
</li>
<li><p class="first">input_st - see in add_calculation()</p>
</li>
<li><p class="first">it_folder - section folder (sfolder) used in struct_des; here needed with input_geo_format = mat_proj</p>
</li>
<li><p class="first">show - only for read_results() ?.</p>
</li>
<li><p class="first">comment - arbitrary comment for history.</p>
</li>
</ul>
<p>#inherit flags:
inherit_args (dict) - to pass parameters to inherit_icalc; 
confdic (dicts) - additional configuration parameters to inherit_icalc in dict, used for antisites
- inherit_option (str):</p>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt>‘continue’     - copy last contcar to poscar, outcar to prev.outcar and run again; on the next launch prev.outcar</dt>
<dd>will be rewritten, please improve the code to save all previous outcars</dd>
</dl>
</li>
<li>‘inherit_xred’ - if verlist is provided, xred are copied from previous version to the next</li>
<li>all options available for inherit_icalc() subroutine (now only ‘full’ is tested)</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first"><em>id_from</em> - see inherit_icalc()</p>
</li>
<li><p class="first">ise_new (str) - name of new set for inherited calculation  (‘uniform_scale’)</p>
</li>
<li><p class="first">occ_atom_coressp (dict) see inherit_icalc()</p>
</li>
<li><p class="first">ortho, mul_matrix - transfered to inherit_icalc</p>
</li>
<li><p class="first">ngkpt (list) - the list of k-points provided explicitly added to struct_des</p>
</li>
<li><p class="first">corenum - number of cores used for calculation; overwrites header.corenum</p>
</li>
<li><p class="first">calc_method - provides additional functionality:</p>
<blockquote>
<div><ul class="simple">
<li>‘u_ramping’    - realizes U ramping approach #Phys Rev B 82, 195128</li>
<li>‘afm_ordering’ -</li>
<li>‘uniform_scale’ - creates uniformly scaled copies of the provided calculations</li>
<li>‘scale’ - arbitrary scale according to mul_matrix</li>
</ul>
<p>using <em>scale_region</em>  and <em>n_scale_images</em> (see <em>scale_cell_uniformly()</em>)
The copies are available as versions from 1 to <em>n_scale_images</em> and
suffix .su appended to <em>it</em> name
Copies to cluster <em>fit</em> utility that finds volume corresp. to energy minimum, creates 100.POSCAR and continues run 
- ‘monte’ - Monte-Carlo functionality</p>
</div></blockquote>
</li>
<li><p class="first">u_ramping_region - used with ‘u_ramping’=tuple(u_start, u_end, u_step)</p>
</li>
<li><p class="first">cluster_home - override value of header.CLUSTERS</p>
</li>
</ul>
<p>cee_args - arguments for taking files from cee database; see get_structure_from_cee_database</p>
<blockquote>
<div><ul class="simple">
<li>cee_file (str) - name of file to be taken from cee database</li>
<li>section (str) - CEStorage, Catalysts, ets</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first">run (bool) - complete the run file copy to server and run</p>
</li>
<li><p class="first">params (dic) - dictionary of additional parameters, please move here numerous arguments</p>
<blockquote>
<div><ul>
<li><p class="first">‘occmatrix’ - explicit path to occmatrix file</p>
</li>
<li><p class="first">‘update_set_dic’ (dict) - additional parameters to override the existing set</p>
</li>
<li><p class="first">‘monte’ - dictionary with parameters for Monte-Carlo regime</p>
<blockquote>
<div><ul class="simple">
<li>‘xvoid’ - xcart coordinates of voids</li>
<li>‘thickness’ - thickness of slice where Monte-Carlo changes are allowed (from top surface)</li>
<li>‘mcsteps’ - number of Monte-Carlo steps</li>
<li>‘temp’    - temperature (K) for Metropolis Algorithm</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>Comments:</p>
<blockquote>
<div>!Check To create folders and add calculations add_flag should have value ‘add’</div></blockquote>
<p>TODO:
Now number of images is taken from self.set.vasp_params[‘IMAGES’]; 
In the case of generalization to other codes, set.nimages should be added and used</p>
<p>Make class for cluster to save all information about cluster in one object, 
like schedule_system, cluster address, corenum and so on</p>
<p>read structure in add_loop, to add calculation provied only structure, mat_proj_st_id pass in structure</p>
<ul class="simple">
<li>occmatrix in params better to rename to occfile or something like this,</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.add_calculation">
<code class="descclassname">siman.calc_manage.</code><code class="descname">add_calculation</code><span class="sig-paren">(</span><em>structure_name</em>, <em>inputset</em>, <em>version</em>, <em>first_version</em>, <em>last_version</em>, <em>input_folder</em>, <em>blockdir</em>, <em>calc</em>, <em>varset</em>, <em>up='no'</em>, <em>inherit_option=None</em>, <em>prevcalcver=None</em>, <em>coord='direct'</em>, <em>savefile=None</em>, <em>input_geo_format='abinit'</em>, <em>input_geo_file=None</em>, <em>calc_method=None</em>, <em>u_ramping_region=None</em>, <em>mat_proj_st_id=None</em>, <em>output_files_names=None</em>, <em>run=None</em>, <em>input_st=None</em>, <em>check_job=1</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#add_calculation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.add_calculation" title="Permalink to this definition">¶</a></dt>
<dd><p>schedule_system - type of job scheduling system:’PBS’, ‘SGE’, ‘SLURM’</p>
<p>prevcalcver - version of previous calculation in verlist</p>
<p>output_files_names - the list is updated on every call</p>
<p>if inherit_option == ‘continue’ the previous completed calculation is saved in cl.prev list</p>
<p>input_st (Structure) - Structure object can be provided instead of input_folder and input_geo_file, has highest priority</p>
<p>TODO:
make init of seqset inside calculate_nbands(), actualize_set, check_kpoints</p>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.add_des">
<code class="descclassname">siman.calc_manage.</code><code class="descname">add_des</code><span class="sig-paren">(</span><em>struct_des</em>, <em>it</em>, <em>it_folder</em>, <em>des='Lazy author has not provided description for me :( '</em>, <em>override=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#add_des"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.add_des" title="Permalink to this definition">¶</a></dt>
<dd><p>Function adds description to struct_des dictionary;</p>
<p>###INPUT:</p>
<blockquote>
<div><ul class="simple">
<li>struct_des (dict)         - dict from project database</li>
</ul>
<ul class="simple">
<li>it (str)        - name of calculation</li>
<li>it_folder (str) - path and name of folder used for calculation in current project both on local and remote machines</li>
<li>des (str)       - description of calculation</li>
<li>override (bool) - allows to override existing field</li>
</ul>
</div></blockquote>
<p>###RETURN:</p>
<blockquote>
<div>None</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.add_loop">
<code class="descclassname">siman.calc_manage.</code><code class="descname">add_loop</code><span class="sig-paren">(</span><em>it</em>, <em>setlist</em>, <em>verlist</em>, <em>calc=None</em>, <em>varset=None</em>, <em>up='up2'</em>, <em>inherit_option=None</em>, <em>id_from=None</em>, <em>inherit_args=None</em>, <em>confdic=None</em>, <em>i_atom_to_remove=None</em>, <em>coord='direct'</em>, <em>savefile='oc'</em>, <em>show=''</em>, <em>comment=''</em>, <em>input_geo_format=None</em>, <em>ifolder=None</em>, <em>input_geo_file=None</em>, <em>input_st=None</em>, <em>corenum=None</em>, <em>calc_method=None</em>, <em>u_ramping_region=None</em>, <em>it_folder=None</em>, <em>mat_proj_cell=''</em>, <em>mat_proj_id=None</em>, <em>cee_args=None</em>, <em>ise_new=None</em>, <em>it_suffix=None</em>, <em>scale_region=None</em>, <em>n_scale_images=7</em>, <em>n_neb_images=None</em>, <em>occ_atom_coressp=None</em>, <em>ortho=None</em>, <em>mul_matrix=None</em>, <em>ngkpt=None</em>, <em>cluster=None</em>, <em>cluster_home=None</em>, <em>override=None</em>, <em>ssh_object=None</em>, <em>run=False</em>, <em>check_job=1</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#add_loop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.add_loop" title="Permalink to this definition">¶</a></dt>
<dd><p>Main subroutine for creation of calculations, saving them to database and sending to server.</p>
<p>Input:</p>
<blockquote>
<div><ul>
<li><p class="first">it - arbitary name for your crystal structure</p>
</li>
<li><p class="first">setlist (list of str or str) - names of sets with vasp parameters from <em>varset</em> dictionary</p>
</li>
<li><p class="first">verlist - list of versions of new calculations</p>
</li>
<li><p class="first">calc, varset - database dictionaries; could be provided; if not then are taken from header</p>
</li>
<li><p class="first">input_geo_format - format of files in input geo folder</p>
<blockquote>
<div><p>‘abinit’ - the version is determined from the value inside the file
‘vasp’, ‘cif’ -   the version is determined from the name of file; the names should be like POSCAR-1 for vasp files and 1.name.cif for cif
‘mat_proj’ - take structure from materialsproject.org; use it_folder, len(verlist) = 1</p>
</div></blockquote>
</li>
<li><p class="first">up - string, possible values are: ‘up1’, ‘up2’, ‘no_base’; if empty then test run is performed without saving and sending</p>
<blockquote>
<div><p>‘up1’ - needed for normal creation of calculation and copy to server all files
‘no_base’: only relevant for typconv
is the same as “up1”, but the base set is ommited
‘up2’ - update only unfinished calculations
‘up3’ - run only if id does not exist</p>
</div></blockquote>
</li>
<li><p class="first">coord - type of cooridnates written in POSCAR:</p>
<blockquote>
<div><p>‘direct’
‘cart’</p>
</div></blockquote>
</li>
<li><p class="first">savefile - controls which files are saved during VASP run on server; check</p>
<blockquote>
<div><p>‘ocvdawx’ - outcar, chgcar, chg, dos, AECCAR,WAVECAR, xml</p>
</div></blockquote>
</li>
<li><p class="first">ifolder - explicit path to folder where to search for input geo file.</p>
</li>
<li><p class="first">input_geo_file - explicit file name of input file</p>
</li>
<li><p class="first">input_st - see in add_calculation()</p>
</li>
<li><p class="first">it_folder - section folder (sfolder) used in struct_des; here needed with input_geo_format = mat_proj</p>
</li>
<li><p class="first">show - only for read_results() ?.</p>
</li>
<li><p class="first">comment - arbitrary comment for history.</p>
</li>
</ul>
<p>#inherit flags:
inherit_args (dict) - to pass parameters to inherit_icalc; 
confdic (dicts) - additional configuration parameters to inherit_icalc in dict, used for antisites
- inherit_option (str):</p>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt>‘continue’     - copy last contcar to poscar, outcar to prev.outcar and run again; on the next launch prev.outcar</dt>
<dd>will be rewritten, please improve the code to save all previous outcars</dd>
</dl>
</li>
<li>‘inherit_xred’ - if verlist is provided, xred are copied from previous version to the next</li>
<li>all options available for inherit_icalc() subroutine (now only ‘full’ is tested)</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first"><em>id_from</em> - see inherit_icalc()</p>
</li>
<li><p class="first">ise_new (str) - name of new set for inherited calculation  (‘uniform_scale’)</p>
</li>
<li><p class="first">occ_atom_coressp (dict) see inherit_icalc()</p>
</li>
<li><p class="first">ortho, mul_matrix - transfered to inherit_icalc</p>
</li>
<li><p class="first">ngkpt (list) - the list of k-points provided explicitly added to struct_des</p>
</li>
<li><p class="first">corenum - number of cores used for calculation; overwrites header.corenum</p>
</li>
<li><p class="first">calc_method - provides additional functionality:</p>
<blockquote>
<div><ul class="simple">
<li>‘u_ramping’    - realizes U ramping approach #Phys Rev B 82, 195128</li>
<li>‘afm_ordering’ -</li>
<li>‘uniform_scale’ - creates uniformly scaled copies of the provided calculations</li>
<li>‘scale’ - arbitrary scale according to mul_matrix</li>
</ul>
<p>using <em>scale_region</em>  and <em>n_scale_images</em> (see <em>scale_cell_uniformly()</em>)
The copies are available as versions from 1 to <em>n_scale_images</em> and
suffix .su appended to <em>it</em> name
Copies to cluster <em>fit</em> utility that finds volume corresp. to energy minimum, creates 100.POSCAR and continues run 
- ‘monte’ - Monte-Carlo functionality</p>
</div></blockquote>
</li>
<li><p class="first">u_ramping_region - used with ‘u_ramping’=tuple(u_start, u_end, u_step)</p>
</li>
<li><p class="first">cluster_home - override value of header.CLUSTERS</p>
</li>
</ul>
<p>cee_args - arguments for taking files from cee database; see get_structure_from_cee_database</p>
<blockquote>
<div><ul class="simple">
<li>cee_file (str) - name of file to be taken from cee database</li>
<li>section (str) - CEStorage, Catalysts, ets</li>
</ul>
</div></blockquote>
<ul>
<li><p class="first">run (bool) - complete the run file copy to server and run</p>
</li>
<li><p class="first">params (dic) - dictionary of additional parameters, please move here numerous arguments</p>
<blockquote>
<div><ul>
<li><p class="first">‘occmatrix’ - explicit path to occmatrix file</p>
</li>
<li><p class="first">‘update_set_dic’ (dict) - additional parameters to override the existing set</p>
</li>
<li><p class="first">‘monte’ - dictionary with parameters for Monte-Carlo regime</p>
<blockquote>
<div><ul class="simple">
<li>‘xvoid’ - xcart coordinates of voids</li>
<li>‘thickness’ - thickness of slice where Monte-Carlo changes are allowed (from top surface)</li>
<li>‘mcsteps’ - number of Monte-Carlo steps</li>
<li>‘temp’    - temperature (K) for Metropolis Algorithm</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>Comments:</p>
<blockquote>
<div>!Check To create folders and add calculations add_flag should have value ‘add’</div></blockquote>
<p>TODO:
Now number of images is taken from self.set.vasp_params[‘IMAGES’]; 
In the case of generalization to other codes, set.nimages should be added and used</p>
<p>Make class for cluster to save all information about cluster in one object, 
like schedule_system, cluster address, corenum and so on</p>
<p>read structure in add_loop, to add calculation provied only structure, mat_proj_st_id pass in structure</p>
<ul class="simple">
<li>occmatrix in params better to rename to occfile or something like this,</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.choose_cluster">
<code class="descclassname">siman.calc_manage.</code><code class="descname">choose_cluster</code><span class="sig-paren">(</span><em>cluster_name</em>, <em>cluster_home</em>, <em>corenum</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#choose_cluster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.choose_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p><em>cluster_name</em> should be in header.project_conf.CLUSTERS dict</p>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.cif2poscar">
<code class="descclassname">siman.calc_manage.</code><code class="descname">cif2poscar</code><span class="sig-paren">(</span><em>cif_file</em>, <em>poscar_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#cif2poscar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.cif2poscar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.calc_manage.clean_history_file">
<code class="descclassname">siman.calc_manage.</code><code class="descname">clean_history_file</code><span class="sig-paren">(</span><em>history_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#clean_history_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.clean_history_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.calc_manage.complete_run">
<code class="descclassname">siman.calc_manage.</code><code class="descname">complete_run</code><span class="sig-paren">(</span><em>close_run=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#complete_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.complete_run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.calc_manage.create_additional">
<code class="descclassname">siman.calc_manage.</code><code class="descname">create_additional</code><span class="sig-paren">(</span><em>struct_des</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#create_additional"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.create_additional" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically make objects in struct_des
with .f and .fvac index</p>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.create_phonopy_conf_file">
<code class="descclassname">siman.calc_manage.</code><code class="descname">create_phonopy_conf_file</code><span class="sig-paren">(</span><em>st, path='', mp=[10, 10, 10], filetype='mesh'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#create_phonopy_conf_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.create_phonopy_conf_file" title="Permalink to this definition">¶</a></dt>
<dd><p>filetype
mesh - mesh.conf
band - band.conf</p>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.determine_file_format">
<code class="descclassname">siman.calc_manage.</code><code class="descname">determine_file_format</code><span class="sig-paren">(</span><em>input_geo_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#determine_file_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.determine_file_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.calc_manage.for_phonopy">
<code class="descclassname">siman.calc_manage.</code><code class="descname">for_phonopy</code><span class="sig-paren">(</span><em>new_id, from_id=None, calctype='read', mp=[10, 10, 10], additional=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#for_phonopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.for_phonopy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.calc_manage.get_file_by_version">
<code class="descclassname">siman.calc_manage.</code><code class="descname">get_file_by_version</code><span class="sig-paren">(</span><em>geofilelist</em>, <em>version</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#get_file_by_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.get_file_by_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Find file with needed version from filelist according to certain rules</p>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.get_structure_from_cee_database">
<code class="descclassname">siman.calc_manage.</code><code class="descname">get_structure_from_cee_database</code><span class="sig-paren">(</span><em>it</em>, <em>it_folder</em>, <em>ver</em>, <em>section='CEStorage'</em>, <em>cee_struct_type='exp'</em>, <em>cee_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#get_structure_from_cee_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.get_structure_from_cee_database" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>cee_struct_type (str) - </dt>
<dd>‘exp’ - experimental structures
‘’ - all</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.get_structure_from_matproj">
<code class="descclassname">siman.calc_manage.</code><code class="descname">get_structure_from_matproj</code><span class="sig-paren">(</span><em>it=None</em>, <em>it_folder=None</em>, <em>ver=None</em>, <em>mat_proj_cell=''</em>, <em>mat_proj_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#get_structure_from_matproj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.get_structure_from_matproj" title="Permalink to this definition">¶</a></dt>
<dd><p>Take structures from Mat. projects</p>
<p>Find material with ‘it’ stoichiometry (lowest energy) from materialsproject.org, 
download and create field in struct_des and input POSCAR file
###INPUT:</p>
<blockquote>
<div><ul class="simple">
<li>struct_des-</li>
<li>it        - materials name, such as ‘LiCoO2’, …. By default the structure with minimum <em>e_above_hull</em> is taken</li>
<li>it_folder - section folder in which the Poscar will be placed</li>
<li>ver       - version of structure defined by user</li>
<li>mat_proj_id (str) - the id can be provided explicitly</li>
<li><dl class="first docutils">
<dt>mat_proj_cell (str)- </dt>
<dd><ul class="first last">
<li>‘conv’ - conventional</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>###RETURN:</p>
<blockquote>
<div><ul class="simple">
<li>?</li>
<li>?</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.inherit_icalc">
<code class="descclassname">siman.calc_manage.</code><code class="descname">inherit_icalc</code><span class="sig-paren">(</span><em>inherit_type</em>, <em>it_new</em>, <em>ver_new</em>, <em>id_base</em>, <em>calc=None</em>, <em>st_base=None</em>, <em>id_from=None</em>, <em>confdic=None</em>, <em>atom_new=None</em>, <em>atom_to_replace=None</em>, <em>id_base_st_type='end'</em>, <em>atoms_to_remove=None</em>, <em>del_pos=None</em>, <em>i_atom_to_remove=None</em>, <em>id_from_st_type='end'</em>, <em>atom_to_shift=None</em>, <em>shift_vector=None</em>, <em>it_folder=None</em>, <em>occ_atom_coressp=None</em>, <em>ortho=None</em>, <em>mul_matrix=None</em>, <em>override=None</em>, <em>use_init=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#inherit_icalc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.inherit_icalc" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for creating new geo files in geo folder based on different types of inheritance
Input args:</p>
<blockquote>
<div><p>it_new, ver_new - name of new structure,
id_base - new structure will be based on the final structure of this calculation;     (can be either Calculation() object or path to geo file)
id_from - can be additionally used to adopt for example rprimd from id_from to it_new; (can be either Calculation() object or path to geo file)</p>
<p>st_base - if not None then used instead of id_base; not implemented yet
confdic (dict) - to pass more parameters</p>
<p>inherit_type = ‘’:</p>
<blockquote>
<div><p>full          - full inheritance of final state
full_chg      - full + chg file, works only if chg file is on the same cluster
‘full_nomag’  - full except magmom which are set to None
r2r3          - use r2 and r3 from id_from
r1r2r3        - use r1, r2 and r3 from id_from
remove_atoms  - removes atoms specified with <em>atoms_to_remove</em> (list of element names or list of atom numbers)</p>
<blockquote>
<div>del_pos (int) - choose specific position if several positions exist for the same ion</div></blockquote>
<p>replace_atoms - atoms of type ‘atom_to_replace’ in ‘id_base’ will be replaced by ‘atom_new’ type.
make_vacancy  - produce vacancy by removing ‘i_atom_to_remove’ starting from 0
occ           - take occ from <em>id_from</em> and create file OCCMATRIX for</p>
<blockquote>
<div>OMC [<a class="reference external" href="https://github.com/WatsonGroupTCD/Occupation-matrix-control-in-VASP">https://github.com/WatsonGroupTCD/Occupation-matrix-control-in-VASP</a>]
- occ_atom_coressp (dict) {iatom_calc_from:iatom_calc_base, … } (atomno starting from 0!!!)</div></blockquote>
<p>supercell - create orthogonal supercel using <em>ortho</em> list [a,b,c] or <em>mul_matrix</em> (3x3) ( higher priority)
antisite  - create anitsite defect:</p>
<blockquote>
<div><blockquote>
<div>curent implimintation takes the first alkali cation and the closest to it transition metal and swap them</div></blockquote>
<p>confdic</p>
<blockquote>
<div><ul class="simple">
<li>st_from</li>
<li>cation</li>
<li>trans</li>
<li>mode</li>
</ul>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p>id_base_st_type - use init or end structure of id_base calculation.
id_from_st_type  - init or end for id_from</p>
<p>atom_to_shift - number of atom to be shifted; starting from 1.
shift_vector - vector in decart cooridinates (Angstrom!!) by which the atom will be shifted</p>
<ul class="simple">
<li>it_folder - section folder</li>
<li>use_init (bool) use init structure if end is empty</li>
</ul>
</div></blockquote>
<p>Result:</p>
<blockquote>
<div>new geo file in the input geo folder</div></blockquote>
<p>Output:</p>
<blockquote>
<div>no</div></blockquote>
<p>Depends from:</p>
<blockquote>
<div>header.struct_des
header.calc</div></blockquote>
<p>Comments:</p>
<blockquote>
<div>changes len_units of new to Angstrom!!!
!nznucl is not calculated, since only geo is created here!
make use of new methods for atom manipulation
add to des which type of st is used: ‘end’, ‘init’</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.inherit_ngkpt">
<code class="descclassname">siman.calc_manage.</code><code class="descname">inherit_ngkpt</code><span class="sig-paren">(</span><em>it_to</em>, <em>it_from</em>, <em>inputset</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#inherit_ngkpt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.inherit_ngkpt" title="Permalink to this definition">¶</a></dt>
<dd><p>inherit ngkpt from it_from to it_to</p>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.log_func_exec">
<code class="descclassname">siman.calc_manage.</code><code class="descname">log_func_exec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#log_func_exec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.log_func_exec" title="Permalink to this definition">¶</a></dt>
<dd><p>save to history the executed form</p>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.manually_remove_from_struct_des">
<code class="descclassname">siman.calc_manage.</code><code class="descname">manually_remove_from_struct_des</code><span class="sig-paren">(</span><em>struct_des</em>, <em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#manually_remove_from_struct_des"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.manually_remove_from_struct_des" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.calc_manage.name_mod_supercell">
<code class="descclassname">siman.calc_manage.</code><code class="descname">name_mod_supercell</code><span class="sig-paren">(</span><em>ortho=None</em>, <em>mul_matrix=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#name_mod_supercell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.name_mod_supercell" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.calc_manage.prepare_run">
<code class="descclassname">siman.calc_manage.</code><code class="descname">prepare_run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#prepare_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.prepare_run" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>INPUT:</dt>
<dd>schedule_system - type of job scheduling system:’PBS’, ‘SGE’, ‘SLURM’</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.read_phonopy_dat_file">
<code class="descclassname">siman.calc_manage.</code><code class="descname">read_phonopy_dat_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#read_phonopy_dat_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.read_phonopy_dat_file" title="Permalink to this definition">¶</a></dt>
<dd><p>read .dat file from phonopy
for reading yaml see self.read_phonopy_data()
should be probably combined</p>
<p>freq - frequency in THz
tot - total energy for freq</p>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.read_phonopy_data">
<code class="descclassname">siman.calc_manage.</code><code class="descname">read_phonopy_data</code><span class="sig-paren">(</span><em>filename</em>, <em>key='free_energy'</em>, <em>convert=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#read_phonopy_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.read_phonopy_data" title="Permalink to this definition">¶</a></dt>
<dd><p>convert (bool) - convert kJ/mol to eV</p>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.res">
<code class="descclassname">siman.calc_manage.</code><code class="descname">res</code><span class="sig-paren">(</span><em>it</em>, <em>setlist</em>, <em>verlist</em>, <em>calc=None</em>, <em>varset=None</em>, <em>analys_type='no'</em>, <em>b_id=None</em>, <em>typconv=''</em>, <em>up=''</em>, <em>imp1=None</em>, <em>imp2=None</em>, <em>matr=None</em>, <em>voronoi=False</em>, <em>r_id=None</em>, <em>readfiles=True</em>, <em>plot=True</em>, <em>show='fo'</em>, <em>comment=None</em>, <em>input_geo_format=None</em>, <em>savefile=None</em>, <em>energy_ref=0</em>, <em>ifolder=None</em>, <em>bulk_mul=1</em>, <em>inherit_option=None</em>, <em>calc_method=None</em>, <em>u_ramping_region=None</em>, <em>input_geo_file=None</em>, <em>corenum=None</em>, <em>run=None</em>, <em>input_st=None</em>, <em>ortho=None</em>, <em>mat_proj_cell=None</em>, <em>ngkpt=None</em>, <em>it_folder=None</em>, <em>choose_outcar=None</em>, <em>choose_image=None</em>, <em>cee_args=None</em>, <em>mat_proj_id=None</em>, <em>ise_new=None</em>, <em>push2archive=False</em>, <em>description_for_archive=None</em>, <em>old_behaviour=False</em>, <em>alkali_ion_number=None</em>, <em>cluster=None</em>, <em>ret=None</em>, <em>override=None</em>, <em>check_job=1</em>, <em>fitplot_args=None</em>, <em>style_dic=None</em>, <em>params=None</em><span class="sig-paren">)</span><a class="headerlink" href="#siman.calc_manage.res" title="Permalink to this definition">¶</a></dt>
<dd><p>Read results
INPUT:</p>
<blockquote>
<div><p>‘analys_type’ - (‘gbe’ - calculate gb energy and volume and plot it. b_id should be appropriete cell with</p>
<blockquote>
<div><p>bulk material,
‘e_imp’ (‘e_imp_kp’, ‘e_imp_ecut’) - calculate impurity energy - just difference between cells with impurity and without.
‘fit_ac’ - fit a and c lattice constants using 2-dimensianal spline
‘clusters’ - allows to calculate formation energies of clusters
‘diff’ - difference of energies in meV, and volumes A^3; E(id) - E(b_id)
‘matrix_diff’ - difference normalized by matrix atoms</p>
<p>‘redox_pot’ - calculate redox potential relative to b_id() (deintercalated cathode) and energy_ref ( energy per one ion atom Li, Na in metallic state or in graphite)
‘neb’ - make neb path. The start and final configurations 
should be versions 1 and 2, the intermidiate images are starting from 3 to 3+nimages
)</p>
</div></blockquote>
<p>voronoi - True of False - allows to calculate voronoi volume of impurities and provide them in output. only if lammps is installed
b_id - key of base calculation (for example bulk cell), used in several regimes; 
r_id - key of reference calculation; defines additional calculation (for example atom in vacuum or graphite to calculate formation energies); can contain directly the energy per one atom</p>
<p>up -</p>
<blockquote>
<div>if equal to ‘up2’ the files are redownloaded; also can be used to download additional files can be ‘xo’ (deprecated?)
- if ‘un’ is found in up then siman will try to read unfinished outcars</div></blockquote>
<p>readfiles (bool) - True - read from outcar, False - read from database;</p>
<p>The next three used for ‘clusters’ regime:    
imp1 - key of bulk cell with one imp1
imp2 - key of bulk cell with one imp2
matr - key of bulk cell with pure matrix.</p>
<ul>
<li><p class="first">show - (str), allows to show additional information:</p>
<blockquote>
<div><ul>
<li><p class="first">mag - magnetic moments on magnetic atoms
maga</p>
<blockquote>
<div><p><em>alkali_ion_number</em> (int) - number of atom around which to sort mag moments from 1</p>
</div></blockquote>
</li>
<li><p class="first">en  - convergence of total energy vs max force</p>
</li>
<li><p class="first">mep - neb path</p>
</li>
<li><p class="first">fo  - max force on each md step</p>
</li>
<li><p class="first">polaron - determine polaron positon, write local surroundin</p>
</li>
<li><p class="first">mig_path - write migration path xyz</p>
</li>
<li><p class="first">pickle - download all pickle and convert to CONTCAR (for Monte-Carlo regime)</p>
</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>energy_ref - energy in eV; substracted from energy diffs</p>
<p>bulk_mul - allows to scale energy and volume of bulk cell during calculation of segregation energies</p>
<p>choose_outcar (int, starting from 1)- if calculation have associated outcars, you can check them as well, by default
the last one is used during creation of calculation in write_sge_script()</p>
<p>choose_image (int) - relative to NEB, allows to choose specific image for analysis, by default the middle image is used</p>
<ul class="simple">
<li>push2archive (bool) - if True produced images are copied to header.project_conf.path_to_images</li>
<li>description_for_archive - caption for images</li>
</ul>
<p>ret (str) - return some more information in results_dic</p>
<blockquote>
<div>‘energies’ - just list of full energies</div></blockquote>
<p>check_job - (bool) check status on server, use 0 if no internet connection</p>
<p>fitplot_args - additional arguments for fit_and_plot function</p>
<p>style_dic - passed to plot_mep()</p>
<ul>
<li><p class="first">ise_new - dummy</p>
</li>
<li><p class="first">inherit_option - dummy</p>
</li>
<li><p class="first">savefile - dummy</p>
</li>
<li><p class="first">cluster - dummy</p>
</li>
<li><p class="first">override - dummy</p>
</li>
<li><p class="first">params - dictionary of additional parameters to control internal, many arguments could me moved here</p>
<blockquote>
<div><p>mep_shift_vector - visualization of mep in xyz format</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>RETURN:</p>
<blockquote>
<div><p>(results_dic,    result_list)
or 
(result_string, result_list)</p>
<p>result_list - list of results; was used in previous versions, now left for compatibility
results_dic - should be used in current version! actually once was used as list, now should be used as dict</p>
</div></blockquote>
<p>TODO:</p>
<blockquote>
<div>Make possible update of b_id and r_id with up = ‘up2’ flag; now only id works correctly</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.res_loop">
<code class="descclassname">siman.calc_manage.</code><code class="descname">res_loop</code><span class="sig-paren">(</span><em>it</em>, <em>setlist</em>, <em>verlist</em>, <em>calc=None</em>, <em>varset=None</em>, <em>analys_type='no'</em>, <em>b_id=None</em>, <em>typconv=''</em>, <em>up=''</em>, <em>imp1=None</em>, <em>imp2=None</em>, <em>matr=None</em>, <em>voronoi=False</em>, <em>r_id=None</em>, <em>readfiles=True</em>, <em>plot=True</em>, <em>show='fo'</em>, <em>comment=None</em>, <em>input_geo_format=None</em>, <em>savefile=None</em>, <em>energy_ref=0</em>, <em>ifolder=None</em>, <em>bulk_mul=1</em>, <em>inherit_option=None</em>, <em>calc_method=None</em>, <em>u_ramping_region=None</em>, <em>input_geo_file=None</em>, <em>corenum=None</em>, <em>run=None</em>, <em>input_st=None</em>, <em>ortho=None</em>, <em>mat_proj_cell=None</em>, <em>ngkpt=None</em>, <em>it_folder=None</em>, <em>choose_outcar=None</em>, <em>choose_image=None</em>, <em>cee_args=None</em>, <em>mat_proj_id=None</em>, <em>ise_new=None</em>, <em>push2archive=False</em>, <em>description_for_archive=None</em>, <em>old_behaviour=False</em>, <em>alkali_ion_number=None</em>, <em>cluster=None</em>, <em>ret=None</em>, <em>override=None</em>, <em>check_job=1</em>, <em>fitplot_args=None</em>, <em>style_dic=None</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#res_loop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.res_loop" title="Permalink to this definition">¶</a></dt>
<dd><p>Read results
INPUT:</p>
<blockquote>
<div><p>‘analys_type’ - (‘gbe’ - calculate gb energy and volume and plot it. b_id should be appropriete cell with</p>
<blockquote>
<div><p>bulk material,
‘e_imp’ (‘e_imp_kp’, ‘e_imp_ecut’) - calculate impurity energy - just difference between cells with impurity and without.
‘fit_ac’ - fit a and c lattice constants using 2-dimensianal spline
‘clusters’ - allows to calculate formation energies of clusters
‘diff’ - difference of energies in meV, and volumes A^3; E(id) - E(b_id)
‘matrix_diff’ - difference normalized by matrix atoms</p>
<p>‘redox_pot’ - calculate redox potential relative to b_id() (deintercalated cathode) and energy_ref ( energy per one ion atom Li, Na in metallic state or in graphite)
‘neb’ - make neb path. The start and final configurations 
should be versions 1 and 2, the intermidiate images are starting from 3 to 3+nimages
)</p>
</div></blockquote>
<p>voronoi - True of False - allows to calculate voronoi volume of impurities and provide them in output. only if lammps is installed
b_id - key of base calculation (for example bulk cell), used in several regimes; 
r_id - key of reference calculation; defines additional calculation (for example atom in vacuum or graphite to calculate formation energies); can contain directly the energy per one atom</p>
<p>up -</p>
<blockquote>
<div>if equal to ‘up2’ the files are redownloaded; also can be used to download additional files can be ‘xo’ (deprecated?)
- if ‘un’ is found in up then siman will try to read unfinished outcars</div></blockquote>
<p>readfiles (bool) - True - read from outcar, False - read from database;</p>
<p>The next three used for ‘clusters’ regime:    
imp1 - key of bulk cell with one imp1
imp2 - key of bulk cell with one imp2
matr - key of bulk cell with pure matrix.</p>
<ul>
<li><p class="first">show - (str), allows to show additional information:</p>
<blockquote>
<div><ul>
<li><p class="first">mag - magnetic moments on magnetic atoms
maga</p>
<blockquote>
<div><p><em>alkali_ion_number</em> (int) - number of atom around which to sort mag moments from 1</p>
</div></blockquote>
</li>
<li><p class="first">en  - convergence of total energy vs max force</p>
</li>
<li><p class="first">mep - neb path</p>
</li>
<li><p class="first">fo  - max force on each md step</p>
</li>
<li><p class="first">polaron - determine polaron positon, write local surroundin</p>
</li>
<li><p class="first">mig_path - write migration path xyz</p>
</li>
<li><p class="first">pickle - download all pickle and convert to CONTCAR (for Monte-Carlo regime)</p>
</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>energy_ref - energy in eV; substracted from energy diffs</p>
<p>bulk_mul - allows to scale energy and volume of bulk cell during calculation of segregation energies</p>
<p>choose_outcar (int, starting from 1)- if calculation have associated outcars, you can check them as well, by default
the last one is used during creation of calculation in write_sge_script()</p>
<p>choose_image (int) - relative to NEB, allows to choose specific image for analysis, by default the middle image is used</p>
<ul class="simple">
<li>push2archive (bool) - if True produced images are copied to header.project_conf.path_to_images</li>
<li>description_for_archive - caption for images</li>
</ul>
<p>ret (str) - return some more information in results_dic</p>
<blockquote>
<div>‘energies’ - just list of full energies</div></blockquote>
<p>check_job - (bool) check status on server, use 0 if no internet connection</p>
<p>fitplot_args - additional arguments for fit_and_plot function</p>
<p>style_dic - passed to plot_mep()</p>
<ul>
<li><p class="first">ise_new - dummy</p>
</li>
<li><p class="first">inherit_option - dummy</p>
</li>
<li><p class="first">savefile - dummy</p>
</li>
<li><p class="first">cluster - dummy</p>
</li>
<li><p class="first">override - dummy</p>
</li>
<li><p class="first">params - dictionary of additional parameters to control internal, many arguments could me moved here</p>
<blockquote>
<div><p>mep_shift_vector - visualization of mep in xyz format</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>RETURN:</p>
<blockquote>
<div><p>(results_dic,    result_list)
or 
(result_string, result_list)</p>
<p>result_list - list of results; was used in previous versions, now left for compatibility
results_dic - should be used in current version! actually once was used as list, now should be used as dict</p>
</div></blockquote>
<p>TODO:</p>
<blockquote>
<div>Make possible update of b_id and r_id with up = ‘up2’ flag; now only id works correctly</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.smart_structure_read">
<code class="descclassname">siman.calc_manage.</code><code class="descname">smart_structure_read</code><span class="sig-paren">(</span><em>filename=None</em>, <em>curver=1</em>, <em>calcul=None</em>, <em>input_folder=None</em>, <em>input_geo_format=None</em>, <em>input_geo_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#smart_structure_read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.smart_structure_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for reading geometry files
calcul (Calculation()) - object to which the path and version read</p>
<p>curver (int) - version of file to be read
input_geo_file or filename (str) - explicitly provided input file, has higher priority
input_folder (str)   - folder with several input files, the names doesnot matter only versions
input_geo_format (str) - explicitly provided format of input file</p>
<p>returns Structure()</p>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.update_des">
<code class="descclassname">siman.calc_manage.</code><code class="descname">update_des</code><span class="sig-paren">(</span><em>struct_des</em>, <em>des_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#update_des"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.update_des" title="Permalink to this definition">¶</a></dt>
<dd><p>Manuall adding of information to struct_des dictionary</p>
<dl class="docutils">
<dt>###INPUT:</dt>
<dd><ul class="first last simple">
<li>struct_des (dict)         - dict from project database</li>
<li>des_list (list of tuples) - list of new calculations to be added to database</li>
</ul>
</dd>
<dt>###RETURN:</dt>
<dd><ul class="first last simple">
<li>struct_des (dict)</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="siman.calc_manage.write_batch_header">
<code class="descclassname">siman.calc_manage.</code><code class="descname">write_batch_header</code><span class="sig-paren">(</span><em>batch_script_filename=None</em>, <em>schedule_system=None</em>, <em>path_to_job=None</em>, <em>job_name='SuperJob'</em>, <em>number_cores=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/calc_manage.html#write_batch_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.calc_manage.write_batch_header" title="Permalink to this definition">¶</a></dt>
<dd><p>self-explanatory)
path_to_job (str) - absolute path to job folder</p>
</dd></dl>

</div>
<div class="section" id="module-siman.classes">
<span id="siman-classes-module"></span><h2>siman.classes module<a class="headerlink" href="#module-siman.classes" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="siman.classes.Calculation">
<em class="property">class </em><code class="descclassname">siman.classes.</code><code class="descname">Calculation</code><span class="sig-paren">(</span><em>inset=None</em>, <em>iid=None</em>, <em>output=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Calculation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Calculation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Main class of siman. Objects of this class contain all information about first-principles calculation
List of important fields:</p>
<blockquote>
<div><ul class="simple">
<li>init (Structure)</li>
<li>end  (Structure)</li>
<li>occ_matrices (dict) - occupation matrices, number of atom (starting from 0) is used as key</li>
</ul>
</div></blockquote>
<dl class="method">
<dt id="siman.classes.Calculation.add_new_name">
<code class="descname">add_new_name</code><span class="sig-paren">(</span><em>idd</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Calculation.add_new_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Calculation.add_new_name" title="Permalink to this definition">¶</a></dt>
<dd><p>just adding new key in database for that calculation
warning cl.id is updated; old name in db remains
the calculation folder remains the same</p>
<p>idd - key</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Calculation.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Calculation.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Calculation.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Calculation.deserialize">
<code class="descname">deserialize</code><span class="sig-paren">(</span><em>filename</em>, <em>encoding=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Calculation.deserialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Calculation.deserialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Calculation.get_kpoints_density">
<code class="descname">get_kpoints_density</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Calculation.get_kpoints_density"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Calculation.get_kpoints_density" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of k-points per atom</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Calculation.get_path">
<code class="descname">get_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Calculation.get_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Calculation.get_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Calculation.jmol">
<code class="descname">jmol</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Calculation.jmol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Calculation.jmol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Calculation.me">
<code class="descname">me</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Calculation.me"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Calculation.me" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Calculation.poscar">
<code class="descname">poscar</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Calculation.poscar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Calculation.poscar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Calculation.read_geometry">
<code class="descname">read_geometry</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Calculation.read_geometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Calculation.read_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads geometrical data from filename file in abinit format</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Calculation.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Calculation.serialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Calculation.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>save as pickle object, return path</p>
</dd></dl>

<dl class="attribute">
<dt id="siman.classes.Calculation.sfolder">
<code class="descname">sfolder</code><a class="headerlink" href="#siman.classes.Calculation.sfolder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Calculation.write_geometry">
<code class="descname">write_geometry</code><span class="sig-paren">(</span><em>geotype='init'</em>, <em>description=''</em>, <em>override=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Calculation.write_geometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Calculation.write_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes geometrical data in custom siman format bases on abinit format to self.path[“input_geo”]</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Calculation.write_siman_geo">
<code class="descname">write_siman_geo</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Calculation.write_siman_geo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Calculation.write_siman_geo" title="Permalink to this definition">¶</a></dt>
<dd><p>Please rename write_geometry() to write_abinit_geo() everywhere and transfer the code here</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="siman.classes.CalculationAbinit">
<em class="property">class </em><code class="descclassname">siman.classes.</code><code class="descname">CalculationAbinit</code><span class="sig-paren">(</span><em>inset=None</em>, <em>iid=None</em>, <em>output=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationAbinit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationAbinit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#siman.classes.Calculation" title="siman.classes.Calculation"><code class="xref py py-class docutils literal notranslate"><span class="pre">siman.classes.Calculation</span></code></a></p>
<p>docstring for CalculationAbinit</p>
</dd></dl>

<dl class="class">
<dt id="siman.classes.CalculationVasp">
<em class="property">class </em><code class="descclassname">siman.classes.</code><code class="descname">CalculationVasp</code><span class="sig-paren">(</span><em>inset=None</em>, <em>iid=None</em>, <em>output=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#siman.classes.Calculation" title="siman.classes.Calculation"><code class="xref py py-class docutils literal notranslate"><span class="pre">siman.classes.Calculation</span></code></a></p>
<p>Methods for calculations made using VASP DFT code</p>
<dl class="method">
<dt id="siman.classes.CalculationVasp.actualize_set">
<code class="descname">actualize_set</code><span class="sig-paren">(</span><em>curset=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.actualize_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.actualize_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes additional processing of set parameters, which also depends on calculation</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.add_potcar">
<code class="descname">add_potcar</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.add_potcar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.add_potcar" title="Permalink to this definition">¶</a></dt>
<dd><p>Should be run for the first calculation only</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.bader">
<code class="descname">bader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.bader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.bader" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.bader_coseg">
<code class="descname">bader_coseg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.bader_coseg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.bader_coseg" title="Permalink to this definition">¶</a></dt>
<dd><p>used in coseg project Ti- C,O</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.calc_kspacings">
<code class="descname">calc_kspacings</code><span class="sig-paren">(</span><em>ngkpt=None</em>, <em>sttype='init'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.calc_kspacings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.calc_kspacings" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates reciprocal vectors and kspacing from ngkpt</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.calculate_nbands">
<code class="descname">calculate_nbands</code><span class="sig-paren">(</span><em>curset</em>, <em>path_to_potcar=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.calculate_nbands"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.calculate_nbands" title="Permalink to this definition">¶</a></dt>
<dd><p>Should be run after add_potcar()</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.check_job_state">
<code class="descname">check_job_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.check_job_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.check_job_state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.check_kpoints">
<code class="descname">check_kpoints</code><span class="sig-paren">(</span><em>ngkpt=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.check_kpoints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.check_kpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>The method updates init.ngkpt and ngkpt_dict_for_kspacings !!! as well provides possible options for it
TODO probably the method should transfered to Structure?
Attention: the order should be the same as in make_kpoints_file</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.copy_to_cluster">
<code class="descname">copy_to_cluster</code><span class="sig-paren">(</span><em>list_to_copy</em>, <em>update</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.copy_to_cluster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.copy_to_cluster" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.determine_filenames">
<code class="descname">determine_filenames</code><span class="sig-paren">(</span><em>nametype='asoutcar'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.determine_filenames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.determine_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p>try to determine correct filenames</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.get_bader_ACF">
<code class="descname">get_bader_ACF</code><span class="sig-paren">(</span><em>p=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.get_bader_ACF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.get_bader_ACF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.get_chg_file">
<code class="descname">get_chg_file</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.get_chg_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.get_chg_file" title="Permalink to this definition">¶</a></dt>
<dd><p>just wrapper to get chgcar files</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.get_file">
<code class="descname">get_file</code><span class="sig-paren">(</span><em>filetype=''</em>, <em>nametype=''</em>, <em>up='up1'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.get_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.get_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.make_incar">
<code class="descname">make_incar</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.make_incar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.make_incar" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes Incar file for current calculation and copy all
TO DO: there is no need to send all POSCAR files; It is enothg to send only one. However for rsync its not that crucial</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.make_kpoints_file">
<code class="descname">make_kpoints_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.make_kpoints_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.make_kpoints_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.make_run">
<code class="descname">make_run</code><span class="sig-paren">(</span><em>schedule_system</em>, <em>run_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.make_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.make_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate run file</p>
<dl class="docutils">
<dt>INPUT:</dt>
<dd>schedule_system -</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.read_pdos_using_phonopy">
<code class="descname">read_pdos_using_phonopy</code><span class="sig-paren">(</span><em>mode='pdos'</em>, <em>plot=1</em>, <em>up='up1'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.read_pdos_using_phonopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.read_pdos_using_phonopy" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>mode - </dt>
<dd>pdos
band
free - thermal properties, converted to eV!!!</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.read_poscar">
<code class="descname">read_poscar</code><span class="sig-paren">(</span><em>filename</em>, <em>version=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.read_poscar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.read_poscar" title="Permalink to this definition">¶</a></dt>
<dd><p>Read POSCAR file using st.read_poscar</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.read_results">
<code class="descname">read_results</code><span class="sig-paren">(</span><em>load=''</em>, <em>out_type=''</em>, <em>voronoi=False</em>, <em>show=''</em>, <em>choose_outcar=None</em>, <em>alkali_ion_number=None</em>, <em>only_load=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.read_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.read_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Download and Read VASP OUTCAR file</p>
<dl class="docutils">
<dt>###INPUT:</dt>
<dd><ul class="first last simple">
<li>load (str) - ‘x’ - download xml, o - download outcar and contcar, un - read unfinished</li>
<li>show (str) - print additional information</li>
<li>choose_outcar - see description in res_loop(), from 1</li>
<li><dl class="first docutils">
<dt>out_type - controls the return string</dt>
<dd>see in code, add here
also controls reading of OUTCAR
‘xcarts’ read xcart every relaxation step and write into self.end.list_xcart</dd>
</dl>
</li>
<li>only_load (bool) - if true - only load the files (used for database)</li>
</ul>
</dd>
<dt>###RETURN:</dt>
<dd>?</dd>
</dl>
<p>###DEPENDS:
TODO:
please split into outcar parser, downloader, and checker-formatter</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.res">
<code class="descname">res</code><span class="sig-paren">(</span><em>**argv</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.res"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.res" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>ise</em>, <em>iopt='full_nomag'</em>, <em>up='up1'</em>, <em>vers=None</em>, <em>i_child=-1</em>, <em>add=0</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for add_loop (in development)
By default inherit self.end
ise - new ise</p>
<dl class="docutils">
<dt>iopt - inherit_option</dt>
<dd>‘full_nomag’
‘full’
‘full_chg’ - including chg file</dd>
</dl>
<p>vers - list of version for which the inheritance is done</p>
<p>i_child - choose number of child to run res_loop()
add - if 1 than add new calculation irrelevant to children
TODO:
1. if ise is not provided continue in the same folder under the same name,
however, it is not always what is needed, therefore use inherit_xred = continue</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.write_sge_script">
<code class="descname">write_sge_script</code><span class="sig-paren">(</span><em>input_geofile='header'</em>, <em>version=1</em>, <em>option=None</em>, <em>prevcalcver=None</em>, <em>savefile=None</em>, <em>schedule_system=None</em>, <em>output_files_names=None</em>, <em>mode=None</em>, <em>batch_script_filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.write_sge_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.write_sge_script" title="Permalink to this definition">¶</a></dt>
<dd><p>Without arguments writes header, else adds sequence of calculatios
option - the same as inherit_option, ‘inherit_xred’ - control inheritance, or ‘master’ - run serial on master 
prevcalcver - ver of previous calc; for first none
savefile - ‘cdawx’, where c-charge, d-dos, a- AECCAR, w-wavefile, x-xml
schedule_system - type of job scheduling system:’PBS’, ‘SGE’, ‘SLURM’
mode -</p>
<blockquote>
<div>body
footer</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="siman.classes.CalculationVasp.write_structure">
<code class="descname">write_structure</code><span class="sig-paren">(</span><em>name_of_output_file</em>, <em>type_of_coordinates='dir'</em>, <em>option=None</em>, <em>prevcalcver=None</em>, <em>path=None</em>, <em>state='init'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#CalculationVasp.write_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.CalculationVasp.write_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates POSCAR file
type_of_coordinates - ‘direct’ (xred) or ‘cartesian’ (xcart)
option -inheritance option
prevcalcver - ver of first calc in calc list; for first None
state - ‘init’ or ‘end’</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="siman.classes.Description">
<em class="property">class </em><code class="descclassname">siman.classes.</code><code class="descname">Description</code><span class="sig-paren">(</span><em>sectionfolder='forgot_folder'</em>, <em>description='forgot_description'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Description"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Description" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Objects of this class include just folder and description of specific calculation.
Mostly was needed for manual addition of new calculations</p>
<p>self.ngkpt_dict_for_kspacings (dict of lists) - the key is kspacing; the dict
contains k-meshes 
for all calculations
based on this geometry structure.
can be useful for fine tuning of k-mesh for specific kspacing.</p>
</dd></dl>

<dl class="class">
<dt id="siman.classes.Structure">
<em class="property">class </em><code class="descclassname">siman.classes.</code><code class="descname">Structure</code><a class="reference internal" href="_modules/siman/classes.html#Structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class includes only structure related information such as primitive vectors, coordinates, forces and so on</p>
<dl class="method">
<dt id="siman.classes.Structure.add_atom">
<code class="descname">add_atom</code><span class="sig-paren">(</span><em>xr=None</em>, <em>element='Pu'</em>, <em>xc=None</em>, <em>selective=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.add_atom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.add_atom" title="Permalink to this definition">¶</a></dt>
<dd><p>wrapper 
allows to add one atom using reduced coordinates or cartesian</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.add_atoms">
<code class="descname">add_atoms</code><span class="sig-paren">(</span><em>atoms_xcart</em>, <em>element='Pu'</em>, <em>return_ins=False</em>, <em>selective=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.add_atoms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.add_atoms" title="Permalink to this definition">¶</a></dt>
<dd><p>appends at the end if element is new. Other case insertered according to VASP conventions
Updates ntypat, typat, znucl, nznucl, xred, magmom and natom
atoms_xcart (list of ndarray)
selective (list of lists) - selective dynamics</p>
<p>magmom is appended with 0.6, please improve me! by using other values for magnetic elements</p>
<dl class="docutils">
<dt>if return_ins:</dt>
<dd>Returns Structure(), int - place of insertion of first atom</dd>
<dt>else:</dt>
<dd>Structure()</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.add_vacuum">
<code class="descname">add_vacuum</code><span class="sig-paren">(</span><em>vec</em>, <em>thick</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.add_vacuum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.add_vacuum" title="Permalink to this definition">¶</a></dt>
<dd><p>To be improved
vector - along which vector, 0, 1, 2
thick - thickness of vector</p>
<p>TODO:
make thick to be thickness along axis and not vector</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.center">
<code class="descname">center</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.center"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.center" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.center_on">
<code class="descname">center_on</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.center_on"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.center_on" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.check_selective">
<code class="descname">check_selective</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.check_selective"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.check_selective" title="Permalink to this definition">¶</a></dt>
<dd><p>check if some atoms should be frozen</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.convert2pymatgen">
<code class="descname">convert2pymatgen</code><span class="sig-paren">(</span><em>oxidation=None</em>, <em>slab=False</em>, <em>chg_type='ox'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.convert2pymatgen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.convert2pymatgen" title="Permalink to this definition">¶</a></dt>
<dd><p>oxidation (dict) - {‘Ti’:’Ti3+’}
if self.charges exist then it is used to update oxidation states of atoms
chg_type - ‘ox’ - oxidation states calculated from self.charges</p>
<blockquote>
<div><dl class="docutils">
<dt>‘norm’ - normalized self.charges</dt>
<dd>‘tot’ - just self.charges
‘pot’ - charges from potentials zval, number of valence electrons</dd>
</dl>
</div></blockquote>
<p>slab - if True return slab object is returned - limited functional is implemented</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.del_atom">
<code class="descname">del_atom</code><span class="sig-paren">(</span><em>iat</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.del_atom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.del_atom" title="Permalink to this definition">¶</a></dt>
<dd><p>Now can delete only one atom with number iat (int), starting from 0. 
Takes care of magmom, ntypat, typat, znucl, nznucl, xred and natom
Returns Structure()</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.del_layers">
<code class="descname">del_layers</code><span class="sig-paren">(</span><em>xred_range=None</em>, <em>xcart_range=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.del_layers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.del_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>remove atoms normal to R3 in given range</p>
<p>xred_range (list) [from, to]
highlight - replace with Pu to check</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.determine_symmetry_positions">
<code class="descname">determine_symmetry_positions</code><span class="sig-paren">(</span><em>element</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.determine_symmetry_positions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.determine_symmetry_positions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.exchange_axes">
<code class="descname">exchange_axes</code><span class="sig-paren">(</span><em>i1_r</em>, <em>i2_r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.exchange_axes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.exchange_axes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.find_atom_num_by_xcart">
<code class="descname">find_atom_num_by_xcart</code><span class="sig-paren">(</span><em>x_tar</em>, <em>prec=1e-06</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.find_atom_num_by_xcart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.find_atom_num_by_xcart" title="Permalink to this definition">¶</a></dt>
<dd><p>take into account periodic conditions</p>
<p>TODO:
make normal function that treats periodic boundary conditions normally!!!</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.fix_atoms">
<code class="descname">fix_atoms</code><span class="sig-paren">(</span><em>numbers=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.fix_atoms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.fix_atoms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.fix_layers">
<code class="descname">fix_layers</code><span class="sig-paren">(</span><em>xred_range=None</em>, <em>xcart_range=None</em>, <em>highlight=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.fix_layers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.fix_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>fix atoms in layers normal to R3</p>
<p>xred_range (list) [from, to]
highlight - replace with Pu to check</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_angles">
<code class="descname">get_angles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_angles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_angles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_conventional_cell">
<code class="descname">get_conventional_cell</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_conventional_cell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_conventional_cell" title="Permalink to this definition">¶</a></dt>
<dd><p>return conventional cell</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_dipole">
<code class="descname">get_dipole</code><span class="sig-paren">(</span><em>ox_states=None</em>, <em>chg_type='ox'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_dipole"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_dipole" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_element_xcart">
<code class="descname">get_element_xcart</code><span class="sig-paren">(</span><em>element</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_element_xcart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_element_xcart" title="Permalink to this definition">¶</a></dt>
<dd><p>Get xred of <em>element</em> first occurance</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_element_xred">
<code class="descname">get_element_xred</code><span class="sig-paren">(</span><em>element</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_element_xred"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_element_xred" title="Permalink to this definition">¶</a></dt>
<dd><p>Get xred of <em>element</em> first occurance</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_elements">
<code class="descname">get_elements</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_elements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_elements" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_elements_z">
<code class="descname">get_elements_z</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_elements_z"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_elements_z" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_elements_zval">
<code class="descname">get_elements_zval</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_elements_zval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_elements_zval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_formula">
<code class="descname">get_formula</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_formula"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_formula" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_fractional_composition">
<code class="descname">get_fractional_composition</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_fractional_composition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_fractional_composition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_layers_pos">
<code class="descname">get_layers_pos</code><span class="sig-paren">(</span><em>xred_range</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_layers_pos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_layers_pos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_mag_tran">
<code class="descname">get_mag_tran</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_mag_tran"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_mag_tran" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_maglist">
<code class="descname">get_maglist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_maglist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_maglist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_name">
<code class="descname">get_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_numbers">
<code class="descname">get_numbers</code><span class="sig-paren">(</span><em>element</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_numbers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_numbers" title="Permalink to this definition">¶</a></dt>
<dd><p>return numbers of specific element</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_nznucl">
<code class="descname">get_nznucl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_nznucl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_nznucl" title="Permalink to this definition">¶</a></dt>
<dd><p>list of numbers of atoms of each type, order is not important
updated directly</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_pm_composition">
<code class="descname">get_pm_composition</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_pm_composition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_pm_composition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_primitive_cell">
<code class="descname">get_primitive_cell</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_primitive_cell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_primitive_cell" title="Permalink to this definition">¶</a></dt>
<dd><p>return primitive cell</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_recip">
<code class="descname">get_recip</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_recip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_recip" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate reciprocal vectors</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_reduced_composition">
<code class="descname">get_reduced_composition</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_reduced_composition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_reduced_composition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_reduced_formula">
<code class="descname">get_reduced_formula</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_reduced_formula"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_reduced_formula" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_reduced_formula_and_factor">
<code class="descname">get_reduced_formula_and_factor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_reduced_formula_and_factor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_reduced_formula_and_factor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_slice">
<code class="descname">get_slice</code><span class="sig-paren">(</span><em>thickness</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_slice" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_space_group_info">
<code class="descname">get_space_group_info</code><span class="sig-paren">(</span><em>symprec=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_space_group_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_space_group_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_specific_elements">
<code class="descname">get_specific_elements</code><span class="sig-paren">(</span><em>required_elements=None</em>, <em>fmt='n'</em>, <em>z_range=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_specific_elements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_specific_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of specific elements (chemical names. z, or numbers from 0) in the structure
required_elements - list of elements z of interest
z_range - (2 index tuple) range of z coordinates: only atoms from z1 to z2 are taken
fmt - format of output</p>
<blockquote>
<div>‘names’
‘z’
‘n’ - numbers of atoms
‘x’ - xcart</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_surface_area">
<code class="descname">get_surface_area</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_surface_area"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_surface_area" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_surface_atoms">
<code class="descname">get_surface_atoms</code><span class="sig-paren">(</span><em>element</em>, <em>surface=0</em>, <em>surface_width=0.5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_surface_atoms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_surface_atoms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_surface_pos">
<code class="descname">get_surface_pos</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_surface_pos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_surface_pos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_transition_elements">
<code class="descname">get_transition_elements</code><span class="sig-paren">(</span><em>fmt='names'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_transition_elements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_transition_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of transition elements (chemical names or z) in the structure
fmt -</p>
<blockquote>
<div>‘names’
‘z’
‘n’ - numbers of atoms</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.get_volume">
<code class="descname">get_volume</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.get_volume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.get_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.image_distance">
<code class="descname">image_distance</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.image_distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.image_distance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.invert_axis">
<code class="descname">invert_axis</code><span class="sig-paren">(</span><em>axis</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.invert_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.invert_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.jmol">
<code class="descname">jmol</code><span class="sig-paren">(</span><em>shift=None</em>, <em>r=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.jmol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.jmol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.leave_only">
<code class="descname">leave_only</code><span class="sig-paren">(</span><em>atom_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.leave_only"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.leave_only" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.mov_atoms">
<code class="descname">mov_atoms</code><span class="sig-paren">(</span><em>iat=None</em>, <em>to_x=None</em>, <em>relative=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.mov_atoms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.mov_atoms" title="Permalink to this definition">¶</a></dt>
<dd><p>Move one atom to xcart position <em>to_x</em>
relative (bool) - if shift is relative</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.new">
<code class="descname">new</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.new" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.nn">
<code class="descname">nn</code><span class="sig-paren">(</span><em>i</em>, <em>n=6</em>, <em>ndict=None</em>, <em>only=None</em>, <em>silent=0</em>, <em>from_one=True</em>, <em>more_info=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.nn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.nn" title="Permalink to this definition">¶</a></dt>
<dd><p>show neigbours
i - number of central atom, from 1 or 0 (from_one = True or False)
ndict (dic) - number of specific neigbour atoms
only - list of interesting z neighbours</p>
<p>more_info - return more output - takes time</p>
<dl class="docutils">
<dt>out</dt>
<dd>‘numbers’ from 0 in the new version!!!!!</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.printme">
<code class="descname">printme</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.printme"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.printme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.read_xyz">
<code class="descname">read_xyz</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.read_xyz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.read_xyz" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.remove_atoms">
<code class="descname">remove_atoms</code><span class="sig-paren">(</span><em>atoms_to_remove</em>, <em>from_one=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.remove_atoms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.remove_atoms" title="Permalink to this definition">¶</a></dt>
<dd><p>remove atoms either of types provided in <em>atoms_to_remove</em> or having numbers provided in <em>atoms_to_remove</em>, starting from 0
st (Structure)
atoms_to_remove (list) - list of element names or numbers
from_one (int)- if 1 the numbers of atoms in provided list are starting from one</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.remove_close_lying">
<code class="descname">remove_close_lying</code><span class="sig-paren">(</span><em>rm_both=0</em>, <em>rm_first=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.remove_close_lying"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.remove_close_lying" title="Permalink to this definition">¶</a></dt>
<dd><p>rm_both (bool) - if True than remove both atoms, if False than only the second atom is removed
rm_first (bool) - if True than the first atom of two overlapping is removed, otherwise the second atom is removed</p>
<p>PBC is realized through image_distance</p>
<dl class="docutils">
<dt>SIDE:</dt>
<dd>write _removed field to returned st</dd>
<dt>TODO:</dt>
<dd>Works incorrectly for more than one overlap !!!</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.remove_part">
<code class="descname">remove_part</code><span class="sig-paren">(</span><em>element</em>, <em>new_conc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.remove_part"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.remove_part" title="Permalink to this definition">¶</a></dt>
<dd><p>element to remove
new_conc &lt;1 - new concentration of element atoms (part of unity)</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.reorder_element_groups">
<code class="descname">reorder_element_groups</code><span class="sig-paren">(</span><em>order=None</em>, <em>inplace=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.reorder_element_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.reorder_element_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Group and order atoms by atom types; consistent with VASP
order (list) -required order e.g. [‘O’, ‘Li’]</p>
<p>return st</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.reorder_for_vasp">
<code class="descname">reorder_for_vasp</code><span class="sig-paren">(</span><em>inplace=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.reorder_for_vasp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.reorder_for_vasp" title="Permalink to this definition">¶</a></dt>
<dd><p>Group and order atoms by atom types; consistent with VASP
return st</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.replace_atoms">
<code class="descname">replace_atoms</code><span class="sig-paren">(</span><em>atoms_to_replace</em>, <em>el_new</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.replace_atoms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.replace_atoms" title="Permalink to this definition">¶</a></dt>
<dd><p>atoms_to_replace - list of atom numbers starting from 0
el_new - new element</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.replic">
<code class="descname">replic</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.replic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.replic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.return_atoms_to_cell">
<code class="descname">return_atoms_to_cell</code><span class="sig-paren">(</span><em>shift=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.return_atoms_to_cell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.return_atoms_to_cell" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.rotate">
<code class="descname">rotate</code><span class="sig-paren">(</span><em>axis</em>, <em>angle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.rotate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.rotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.selective_all">
<code class="descname">selective_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.selective_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.selective_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.selective_byCompare">
<code class="descname">selective_byCompare</code><span class="sig-paren">(</span><em>st2</em>, <em>tol=0.0001</em>, <em>freeze='present'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.selective_byCompare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.selective_byCompare" title="Permalink to this definition">¶</a></dt>
<dd><p>set selective dynamics falgs in the calling structure (self) by freezing the atoms that are present (or missing) in the supplied structure (st2)
tol - tolerance for finding the same atoms in the two structures
freeze = ‘present’ or ‘missing’</p>
<p>TODO:
read st2 from file
optional save flag-changed atoms to cif (to check the result)</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.set_magnetic_config">
<code class="descname">set_magnetic_config</code><span class="sig-paren">(</span><em>element</em>, <em>moments</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.set_magnetic_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.set_magnetic_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.sg">
<code class="descname">sg</code><span class="sig-paren">(</span><em>symprec=None</em>, <em>silent=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.sg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.sg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.shift_atoms">
<code class="descname">shift_atoms</code><span class="sig-paren">(</span><em>vector_red</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.shift_atoms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.shift_atoms" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift all atoms according to <em>vector_red</em></p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.show_mag">
<code class="descname">show_mag</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.show_mag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.show_mag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.swap_atoms">
<code class="descname">swap_atoms</code><span class="sig-paren">(</span><em>iat1</em>, <em>iat2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.swap_atoms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.swap_atoms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.update_from_pymatgen">
<code class="descname">update_from_pymatgen</code><span class="sig-paren">(</span><em>stpm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.update_from_pymatgen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.update_from_pymatgen" title="Permalink to this definition">¶</a></dt>
<dd><p>stpm - pymatgen structure
update the current structure from pymatgen structure
only rprimd, xred and xcart are updated now!!!!!</p>
<p>TODO:</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.update_types">
<code class="descname">update_types</code><span class="sig-paren">(</span><em>elements</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.update_types"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.update_types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.update_xcart">
<code class="descname">update_xcart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.update_xcart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.update_xcart" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.update_xred">
<code class="descname">update_xred</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.update_xred"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.update_xred" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.write_cif">
<code class="descname">write_cif</code><span class="sig-paren">(</span><em>filename=None</em>, <em>mcif=False</em>, <em>symprec=0.1</em>, <em>write_prim=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.write_cif"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.write_cif" title="Permalink to this definition">¶</a></dt>
<dd><p>Find primitive cell and write it in cif format</p>
<p>mcif (bool) - if True, than write mcif file with magnetic moments included, primitive cell is not supported</p>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.write_lammps">
<code class="descname">write_lammps</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.write_lammps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.write_lammps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.write_poscar">
<code class="descname">write_poscar</code><span class="sig-paren">(</span><em>filename=None</em>, <em>coord_type='dir'</em>, <em>vasp5=True</em>, <em>charges=False</em>, <em>energy=None</em>, <em>selective_dynamics=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.write_poscar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.write_poscar" title="Permalink to this definition">¶</a></dt>
<dd><p>write</p>
<p>charges (bool) - write charges, self.charges should be available
energy - write total energy</p>
<dl class="docutils">
<dt>selective dynamics - </dt>
<dd>if at least one F is found than automatically switched on
!works only for coord_type = ‘dir’ and charges = False</dd>
</dl>
<p>NOTE
#void element type is not written to POSCAR</p>
<dl class="docutils">
<dt>TODO</dt>
<dd>selective_dynamics for coord_type = ‘cart’</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.write_xyz">
<code class="descname">write_xyz</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.write_xyz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.write_xyz" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.xcart2xred">
<code class="descname">xcart2xred</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.xcart2xred"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.xcart2xred" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.classes.Structure.xred2xcart">
<code class="descname">xred2xcart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#Structure.xred2xcart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.Structure.xred2xcart" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="siman.classes.cd">
<em class="property">class </em><code class="descclassname">siman.classes.</code><code class="descname">cd</code><span class="sig-paren">(</span><em>newPath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/classes.html#cd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.cd" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Context manager for changing the current working directory</p>
</dd></dl>

<dl class="class">
<dt id="siman.classes.empty_struct">
<em class="property">class </em><code class="descclassname">siman.classes.</code><code class="descname">empty_struct</code><a class="reference internal" href="_modules/siman/classes.html#empty_struct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.classes.empty_struct" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-siman.database">
<span id="siman-database-module"></span><h2>siman.database module<a class="headerlink" href="#module-siman.database" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.database.add_to_archive_database">
<code class="descclassname">siman.database.</code><code class="descname">add_to_archive_database</code><span class="sig-paren">(</span><em>cl</em>, <em>subgroup</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/database.html#add_to_archive_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.database.add_to_archive_database" title="Permalink to this definition">¶</a></dt>
<dd><p>cl is Calculation which should be added to database
subgroup (str) - subgroup folder</p>
</dd></dl>

<dl class="function">
<dt id="siman.database.get_from_database">
<code class="descclassname">siman.database.</code><code class="descname">get_from_database</code><span class="sig-paren">(</span><em>x1</em>, <em>x2</em>, <em>mat</em>, <em>inquiry_keys=None</em>, <em>silent=None</em>, <em>ssh_object=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/database.html#get_from_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.database.get_from_database" title="Permalink to this definition">¶</a></dt>
<dd><p>inquiry_keys (list) - list of keys that should exist in filenames both for x1 and x2
ssh_object (SSHTools) - ssh object based on paramiko with access details</p>
</dd></dl>

<dl class="function">
<dt id="siman.database.push_figure_to_archive">
<code class="descclassname">siman.database.</code><code class="descname">push_figure_to_archive</code><span class="sig-paren">(</span><em>local_figure_path</em>, <em>caption</em>, <em>figlabel=None</em>, <em>autocompl=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/database.html#push_figure_to_archive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.database.push_figure_to_archive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.database.read_cvs_database">
<code class="descclassname">siman.database.</code><code class="descname">read_cvs_database</code><span class="sig-paren">(</span><em>columns</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/database.html#read_cvs_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.database.read_cvs_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows to read cvs file with experimental results</p>
</dd></dl>

<dl class="function">
<dt id="siman.database.read_database">
<code class="descclassname">siman.database.</code><code class="descname">read_database</code><span class="sig-paren">(</span><em>scratch=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/database.html#read_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.database.read_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Read database of calculations</p>
<dl class="docutils">
<dt>INPUT:</dt>
<dd>scratch - not used</dd>
<dt>RETURN:</dt>
<dd>calc   - dict, contains all calculations of the project
conv   - dict, convergence sequences
varset - dict, parameter sets of the project
size_on_start, int - not used now</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="siman.database.write_database">
<code class="descclassname">siman.database.</code><code class="descname">write_database</code><span class="sig-paren">(</span><em>calc=None</em>, <em>conv=None</em>, <em>varset=None</em>, <em>size_on_start=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/database.html#write_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.database.write_database" title="Permalink to this definition">¶</a></dt>
<dd><p>The function writes main dictionaries to database file calc.s
Also creates copy of calc.s</p>
<dl class="docutils">
<dt>INPUT:</dt>
<dd>calc - dict, contains all calculations of the project
conv - dict, convergence sequences
varset - dict, parameter sets of the project
size_on_start - not used now</dd>
<dt>RETURN:</dt>
<dd>None</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-siman.default_project_conf">
<span id="siman-default-project-conf-module"></span><h2>siman.default_project_conf module<a class="headerlink" href="#module-siman.default_project_conf" title="Permalink to this headline">¶</a></h2>
<p>Default control parameters for siman</p>
<dl class="data">
<dt id="siman.default_project_conf.CIF2CELL">
<code class="descclassname">siman.default_project_conf.</code><code class="descname">CIF2CELL</code><em class="property"> = True</em><a class="headerlink" href="#siman.default_project_conf.CIF2CELL" title="Permalink to this definition">¶</a></dt>
<dd><p>List of manually added calculations:</p>
</dd></dl>

<dl class="data">
<dt id="siman.default_project_conf.MANUALLY_ADDED">
<code class="descclassname">siman.default_project_conf.</code><code class="descname">MANUALLY_ADDED</code><em class="property"> = [('Li111', 'Li', '2 Li')]</em><a class="headerlink" href="#siman.default_project_conf.MANUALLY_ADDED" title="Permalink to this definition">¶</a></dt>
<dd><p>Naming conventions:</p>
<p>endings:
‘_ml’ - was used to show that this calculation uses manual equilibrium lattice determination and 
contains several versions of identical structures with different
lattice constants. Now not in use, because I always use this method. Usually 16 versions for hcp;</p>
<p>‘_r’ - calculation with structure constructed for fitted lattice constants; 
Now was replaced with ‘.f’; Usually one version.
‘.ur’ - unrelaxed
.r - relaxed atomic positions
.o - optimised cell and volume and atomic positions automatically
‘.f’  - fitted
‘.fr’ - means that current calculation based on the structure for which lattice constants were fitted and
positions of atoms were relaxed. However see description to know for wich set they were fitted and relaxed.
Calculations with ‘.f’ and ‘.fr’ can have different versions which are correspondig to different sets.</p>
<p>.m - only matrix, all impurities were removed and matrix was freezed</p>
<p>letters in name, wich are usually between didgits and element’s names:
b - stands for bulk, which denote ideal cells without boundaries.
g - cells with grain boundary;
v - means that impurity is in the volume of grain; far away from boundaries;
i - means that impurity is close to interface plane (grain boundary)</p>
<p>Versions:
20 - usually means that lattice constatns was used from other calculation and this is very good assumtion.</p>
</dd></dl>

<dl class="data">
<dt id="siman.default_project_conf.show_head">
<code class="descclassname">siman.default_project_conf.</code><code class="descname">show_head</code><em class="property"> = None</em><a class="headerlink" href="#siman.default_project_conf.show_head" title="Permalink to this definition">¶</a></dt>
<dd><p>List of constants determined during installation</p>
</dd></dl>

</div>
<div class="section" id="module-siman.dos_functions">
<span id="siman-dos-functions-module"></span><h2>siman.dos_functions module<a class="headerlink" href="#module-siman.dos_functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.dos_functions.det_gravity">
<code class="descclassname">siman.dos_functions.</code><code class="descname">det_gravity</code><span class="sig-paren">(</span><em>dos</em>, <em>Erange=(-100</em>, <em>0)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/dos_functions.html#det_gravity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.dos_functions.det_gravity" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine center of gravity for DOS and return values of energy for d6 orbitals in list
INPUT:
dos - ase dos type with added d6 - sum of d orbitals over neighbors to impurity atoms
Erange - window of energy to determine center of gravity</p>
</dd></dl>

<dl class="function">
<dt id="siman.dos_functions.det_gravity2">
<code class="descclassname">siman.dos_functions.</code><code class="descname">det_gravity2</code><span class="sig-paren">(</span><em>energy</em>, <em>dos</em>, <em>Erange=(-100</em>, <em>0)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/dos_functions.html#det_gravity2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.dos_functions.det_gravity2" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine center of gravity for DOS and return values of energy for dos
INPUT:
energy - list of energies
dos    - list of corresponding dos
Erange - window of energy to determine center of gravity</p>
</dd></dl>

<dl class="function">
<dt id="siman.dos_functions.plot_dos">
<code class="descclassname">siman.dos_functions.</code><code class="descname">plot_dos</code><span class="sig-paren">(</span><em>cl1</em>, <em>cl2=None</em>, <em>dostype=None</em>, <em>iatom=None</em>, <em>iatom2=None</em>, <em>orbitals='s'</em>, <em>up=None</em>, <em>neighbors=6</em>, <em>show=1</em>, <em>labels=None</em>, <em>path='dos'</em>, <em>xlim=(None</em>, <em>None)</em>, <em>ylim=(None</em>, <em>None)</em>, <em>savefile=True</em>, <em>plot_param={}</em>, <em>suf2=''</em>, <em>fontsize=8</em>, <em>nsmooth=12</em>, <em>lts2='--'</em>, <em>split_type='octa'</em>, <em>plot_spin_pol=1</em>, <em>show_gravity=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/dos_functions.html#plot_dos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.dos_functions.plot_dos" title="Permalink to this definition">¶</a></dt>
<dd><p>cl1 (CalculationVasp) - object created by add_loop()
dostype (str) - control which dos to plot:</p>
<blockquote>
<div>‘total’   - plot total dos
‘diff_total’ - difference of total dos, use cl2 for second calculation
‘partial’ - partial dos</div></blockquote>
<dl class="docutils">
<dt>orbitals (list of str) - </dt>
<dd>any from ‘s, p, d, py, pz, px, dxy, dyz, dz2, dxz, dx2’ where ‘p’ and ‘d’ are sums of projections
also to sum around neigbours use p6 and d6 and neighbors parameter</dd>
</dl>
<p>up - ‘up2’ allows to download the file once again
labels - two manual labels for cl1 and cl2 instead of auto</p>
<p>iatom (int) - number of atom starting from 1 to plot DOS;
iatom ([float]*3) - cartesian coordinates of point around which atoms will be found
show (bool) - whether to show the dos 
path (str)  - path to folder with images</p>
<p>neighbors - number of neighbours around iatom to plot dos on them using p6 or d6; only p6 is implemented to the moment in plot section</p>
<p>xlim, ylim (tuple)- limits for plot</p>
<dl class="docutils">
<dt>plot_param - dict of parameters to fit_and_plot</dt>
<dd>dashes - control of dahsed lines</dd>
</dl>
<p>suf2 - additional suffix</p>
<p># nsmooth = 15 # smooth of dos
lts2 - style of lines for cl2</p>
<dl class="docutils">
<dt>split_type - </dt>
<dd>octa  - the names are t2g and eg
tetra - the names are t2 and e</dd>
<dt>plot_spin_pol -</dt>
<dd>0 - spin-polarized components are summed up</dd>
<dt>show_gravity (list) - print gravity centers (i, type, range, ); i - 1 or 2 cl</dt>
<dd><dl class="first last docutils">
<dt>type (str)</dt>
<dd>‘p6’ - for p orbitals of neighbors
‘p’</dd>
</dl>
</dd>
</dl>
<p>#0 s     1 py     2 pz     3 px    4 dxy    5 dyz    6 dz2    7 dxz    8 dx2 
#In all cases, the units of the l- and site projected DOS are states/atom/energy.</p>
</dd></dl>

</div>
<div class="section" id="module-siman.fit_hex">
<span id="siman-fit-hex-module"></span><h2>siman.fit_hex module<a class="headerlink" href="#module-siman.fit_hex" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.fit_hex.fit_hex">
<code class="descclassname">siman.fit_hex.</code><code class="descname">fit_hex</code><span class="sig-paren">(</span><em>shag_a</em>, <em>shag_c</em>, <em>npoint_a</em>, <em>npoint_c</em>, <em>it</em>, <em>ise</em>, <em>verlist</em>, <em>calc</em>, <em>gb_volume=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/fit_hex.html#fit_hex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.fit_hex.fit_hex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-siman.functions">
<span id="siman-functions-module"></span><h2>siman.functions module<a class="headerlink" href="#module-siman.functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.functions.calc_ac">
<code class="descclassname">siman.functions.</code><code class="descname">calc_ac</code><span class="sig-paren">(</span><em>a1</em>, <em>c1</em>, <em>a2</em>, <em>c2</em>, <em>a_b=0.1</em>, <em>c_b=0.1</em>, <em>type='two_atoms'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#calc_ac"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.calc_ac" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate values of hexagonal lattice parameters for cell with two different atoms.
The used assumption is:
1. Provided lattice constants are for large enougth cells, in which excess volume (dV) of impurity does not depend on the size of cell.
2. Two atoms do not interact with each other, which allows to use dV(CO) = dV(C) + dV(O)</p>
<p>Two regimes:
two_atoms - calculate cell sizes if additional atom was added
double_cell - if cell was doubled; only first cell and second_cell are needed</p>
<p>Input:
a1, c1 - lattice constants of cell with first impurity atom (first cell)
a2, c2 - lattice constants of cell with second impurity atom (second cell)
a_b, c_b - lattice constants of cell with pure hexagonal metall</p>
<p>Output:
a, c - lattice constants of cell with two atoms</p>
</dd></dl>

<dl class="function">
<dt id="siman.functions.calculate_voronoi">
<code class="descclassname">siman.functions.</code><code class="descname">calculate_voronoi</code><span class="sig-paren">(</span><em>self</em>, <em>state='end'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#calculate_voronoi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.calculate_voronoi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.functions.element_name_inv">
<code class="descclassname">siman.functions.</code><code class="descname">element_name_inv</code><span class="sig-paren">(</span><em>el</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#element_name_inv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.element_name_inv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.functions.file_exists_on_server">
<code class="descclassname">siman.functions.</code><code class="descname">file_exists_on_server</code><span class="sig-paren">(</span><em>file</em>, <em>addr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#file_exists_on_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.file_exists_on_server" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.functions.gb_energy_volume">
<code class="descclassname">siman.functions.</code><code class="descname">gb_energy_volume</code><span class="sig-paren">(</span><em>gb</em>, <em>bulk</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#gb_energy_volume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.gb_energy_volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.functions.get_from_server">
<code class="descclassname">siman.functions.</code><code class="descname">get_from_server</code><span class="sig-paren">(</span><em>files=None</em>, <em>to=None</em>, <em>to_file=None</em>, <em>addr=None</em>, <em>trygz=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#get_from_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.get_from_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Download files using either  paramiko (higher priority) or rsync; 
For paramiko header.ssh_object should be defined</p>
<p>files (list of str)  - files on cluster to download 
to (str)      - path to local folder ! 
to_file (str) - path to local file (if name should be changed); in this case len(files) should be 1</p>
<p>The gz file is also checked</p>
<dl class="docutils">
<dt>RETURN</dt>
<dd>result of download</dd>
</dl>
<p>TODO:
now for each file new connection is opened, 
copy them in one connection</p>
</dd></dl>

<dl class="function">
<dt id="siman.functions.headers">
<code class="descclassname">siman.functions.</code><code class="descname">headers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#headers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.headers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.functions.invert">
<code class="descclassname">siman.functions.</code><code class="descname">invert</code><span class="sig-paren">(</span><em>el</em><span class="sig-paren">)</span><a class="headerlink" href="#siman.functions.invert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.functions.log_history">
<code class="descclassname">siman.functions.</code><code class="descname">log_history</code><span class="sig-paren">(</span><em>hstring</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#log_history"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.log_history" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.functions.plot_charge_den">
<code class="descclassname">siman.functions.</code><code class="descname">plot_charge_den</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#plot_charge_den"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.plot_charge_den" title="Permalink to this definition">¶</a></dt>
<dd><p>Test function; Was not used</p>
</dd></dl>

<dl class="function">
<dt id="siman.functions.plot_interaction">
<code class="descclassname">siman.functions.</code><code class="descname">plot_interaction</code><span class="sig-paren">(</span><em>calclist</em>, <em>calc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#plot_interaction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.plot_interaction" title="Permalink to this definition">¶</a></dt>
<dd><p>For calculation of interaction parameter alpha;
Take in mind that this parameter is obtained under aproximation of redular solution</p>
</dd></dl>

<dl class="function">
<dt id="siman.functions.push_to_server">
<code class="descclassname">siman.functions.</code><code class="descname">push_to_server</code><span class="sig-paren">(</span><em>files=None</em>, <em>to=None</em>, <em>addr=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#push_to_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.push_to_server" title="Permalink to this definition">¶</a></dt>
<dd><p>if header.ssh_object then use paramiko
to (str)     - path to remote folder !</p>
</dd></dl>

<dl class="function">
<dt id="siman.functions.read_charge_den_vasp">
<code class="descclassname">siman.functions.</code><code class="descname">read_charge_den_vasp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#read_charge_den_vasp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.read_charge_den_vasp" title="Permalink to this definition">¶</a></dt>
<dd><p>Read CHG vasp file and return ChargeDen object</p>
</dd></dl>

<dl class="function">
<dt id="siman.functions.read_list">
<code class="descclassname">siman.functions.</code><code class="descname">read_list</code><span class="sig-paren">(</span><em>token</em>, <em>number_of_elements</em>, <em>ttype</em>, <em>list_of_words</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#read_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.read_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Input is token to find, number of elements to read, type of elements and list of words, 
where to search
Returns the list of elements for the last match</p>
</dd></dl>

<dl class="function">
<dt id="siman.functions.read_vectors">
<code class="descclassname">siman.functions.</code><code class="descname">read_vectors</code><span class="sig-paren">(</span><em>token</em>, <em>number_of_vectors</em>, <em>list_of_words</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#read_vectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.read_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of numpy vectors for the last match</p>
</dd></dl>

<dl class="function">
<dt id="siman.functions.return_atoms_to_cell">
<code class="descclassname">siman.functions.</code><code class="descname">return_atoms_to_cell</code><span class="sig-paren">(</span><em>st</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#return_atoms_to_cell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.return_atoms_to_cell" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.functions.rotate">
<code class="descclassname">siman.functions.</code><code class="descname">rotate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#rotate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.rotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.functions.rotation_matrix">
<code class="descclassname">siman.functions.</code><code class="descname">rotation_matrix</code><span class="sig-paren">(</span><em>axis</em>, <em>theta</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#rotation_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.rotation_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.functions.run_on_server">
<code class="descclassname">siman.functions.</code><code class="descname">run_on_server</code><span class="sig-paren">(</span><em>command</em>, <em>addr=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#run_on_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.run_on_server" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.functions.salary_inflation">
<code class="descclassname">siman.functions.</code><code class="descname">salary_inflation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#salary_inflation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.salary_inflation" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate salary growth in Russia taking into account inflation</p>
</dd></dl>

<dl class="function">
<dt id="siman.functions.server_cp">
<code class="descclassname">siman.functions.</code><code class="descname">server_cp</code><span class="sig-paren">(</span><em>copy_file</em>, <em>to</em>, <em>gz=True</em>, <em>scratch=False</em>, <em>new_filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#server_cp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.server_cp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.functions.smoother">
<code class="descclassname">siman.functions.</code><code class="descname">smoother</code><span class="sig-paren">(</span><em>x</em>, <em>n</em>, <em>mul=1</em>, <em>align=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#smoother"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.smoother" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.functions.unique_elements">
<code class="descclassname">siman.functions.</code><code class="descname">unique_elements</code><span class="sig-paren">(</span><em>seq</em>, <em>idfun=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#unique_elements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.unique_elements" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.functions.words">
<code class="descclassname">siman.functions.</code><code class="descname">words</code><span class="sig-paren">(</span><em>fileobj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#words"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.words" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator of words. However does not allow to use methods of list for returned</p>
</dd></dl>

<dl class="function">
<dt id="siman.functions.wrapper_cp_on_server">
<code class="descclassname">siman.functions.</code><code class="descname">wrapper_cp_on_server</code><span class="sig-paren">(</span><em>file</em>, <em>to</em>, <em>new_filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/functions.html#wrapper_cp_on_server"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.functions.wrapper_cp_on_server" title="Permalink to this definition">¶</a></dt>
<dd><p>tries iterativly scratch and gz</p>
</dd></dl>

</div>
<div class="section" id="module-siman.geo">
<span id="siman-geo-module"></span><h2>siman.geo module<a class="headerlink" href="#module-siman.geo" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.geo.calc_k_point_mesh">
<code class="descclassname">siman.geo.</code><code class="descname">calc_k_point_mesh</code><span class="sig-paren">(</span><em>rprimd</em>, <em>kspacing</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#calc_k_point_mesh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.calc_k_point_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>rprimd (list of lists 3x3 of floats) - vectors of cell (Angstroms)
kspacing (float) - required spacing between k-points in reciprocal space (A-1); paramter KSPACING in VASP</p>
<p>the provided optimal k-mesh has the smallest sum of squared deviations of kspacings</p>
<p>returns k-point mesh (list of int)</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.calc_kspacings">
<code class="descclassname">siman.geo.</code><code class="descname">calc_kspacings</code><span class="sig-paren">(</span><em>ngkpt</em>, <em>rprimd</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#calc_kspacings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.calc_kspacings" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate kspacing from ngkpt and rprimd (A)
ngkpt (list of int) - k-point mesh</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.calc_recip_vectors">
<code class="descclassname">siman.geo.</code><code class="descname">calc_recip_vectors</code><span class="sig-paren">(</span><em>rprimd</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#calc_recip_vectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.calc_recip_vectors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.geo.create_antisite_defect">
<code class="descclassname">siman.geo.</code><code class="descname">create_antisite_defect</code><span class="sig-paren">(</span><em>st</em>, <em>el1</em>, <em>el2</em>, <em>tol=0.1</em>, <em>max_sep=4</em>, <em>iatom=None</em><span class="sig-paren">)</span><a class="headerlink" href="#siman.geo.create_antisite_defect" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks for all unique antisites for el1 and el2</p>
<p>iatom (int) - create antistes only using this atom number</p>
<p>Todo
#check that distances through  PBC are two small</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.create_antisite_defect2">
<code class="descclassname">siman.geo.</code><code class="descname">create_antisite_defect2</code><span class="sig-paren">(</span><em>st_base</em>, <em>st_from</em>, <em>cation=None</em>, <em>trans=None</em>, <em>trans_pos=1</em>, <em>mode=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#create_antisite_defect2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.create_antisite_defect2" title="Permalink to this definition">¶</a></dt>
<dd><p>exchange cation and transition metal
st_base (Structure) - basic structure in which defects are created
st_from (Structure) - structure from which the positions of <em>cation</em> are chosen;  st_from should be consistent with st_base 
cation (str) - element, position of which is extracted from st_from and added to st_base</p>
<p>trans (str) - element name transition metal for exchange
trans_pos (int) - number of non-equiv position of trans starting from 1</p>
<dl class="docutils">
<dt>mode - </dt>
<dd>‘add_alk’ or ‘a1’ - add alkali cation
‘mov_trs’ or ‘a2’ - mov trans to alkali pos
‘add_swp’ or ‘a3’ - add alk and swap with trans</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="siman.geo.create_antisite_defect3">
<code class="descclassname">siman.geo.</code><code class="descname">create_antisite_defect3</code><span class="sig-paren">(</span><em>st</em>, <em>el1</em>, <em>el2</em>, <em>tol=0.1</em>, <em>max_sep=4</em>, <em>iatom=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#create_antisite_defect3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.create_antisite_defect3" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks for all unique antisites for el1 and el2</p>
<p>iatom (int) - create antistes only using this atom number</p>
<p>Todo
#check that distances through  PBC are two small</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.create_antisite_defect_old">
<code class="descclassname">siman.geo.</code><code class="descname">create_antisite_defect_old</code><span class="sig-paren">(</span><em>st</em>, <em>cation_positions=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#create_antisite_defect_old"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.create_antisite_defect_old" title="Permalink to this definition">¶</a></dt>
<dd><p>exchange cation and transition metal
st (Structure)</p>
<p>cation_positions (list of numpy arrays) - reduced coordinates of deintercalated cation positions</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.create_deintercalated_structure">
<code class="descclassname">siman.geo.</code><code class="descname">create_deintercalated_structure</code><span class="sig-paren">(</span><em>st</em>, <em>element</em>, <em>del_pos=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#create_deintercalated_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.create_deintercalated_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>returns deintercalated structures</p>
<p>del_pos(int) - number of position starting from 1</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.create_replaced_structure">
<code class="descclassname">siman.geo.</code><code class="descname">create_replaced_structure</code><span class="sig-paren">(</span><em>st</em>, <em>el1</em>, <em>el2</em>, <em>rep_pos=1</em>, <em>only_one=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#create_replaced_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.create_replaced_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>allow to replace symmetry non-equivalent positions structures</p>
<p>rep_pos(int) - number of position starting from 1
only_one - replace only one first atom</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.create_supercell">
<code class="descclassname">siman.geo.</code><code class="descname">create_supercell</code><span class="sig-paren">(</span><em>st</em>, <em>mul_matrix</em>, <em>test_overlap=False</em>, <em>mp=4</em>, <em>bound=0.01</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#create_supercell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.create_supercell" title="Permalink to this definition">¶</a></dt>
<dd><p>st (Structure) -  
mul_matrix (3x3 ndarray of int) - for example created by <em>ortho_    vec()</em></p>
<p>bound (float) - shift (A) allows to correctly account atoms on boundaries
mp    (int)  include additionall atoms before cutting supecell
test_overlap (bool) - check if atoms are overlapping -  quite slow</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.create_surface">
<code class="descclassname">siman.geo.</code><code class="descname">create_surface</code><span class="sig-paren">(</span><em>st</em>, <em>miller_index</em>, <em>min_slab_size=10</em>, <em>min_vacuum_size=10</em>, <em>surface_i=0</em>, <em>oxidation=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#create_surface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.create_surface" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>INPUT:</dt>
<dd><dl class="first docutils">
<dt>st (Structure) - Initial input structure. Note that to</dt>
<dd>ensure that the miller indices correspond to usual
crystallographic definitions, you should supply a conventional
unit cell structure.</dd>
<dt>miller_index ([h, k, l]): Miller index of plane parallel to</dt>
<dd>surface. Note that this is referenced to the input structure. If
you need this to be based on the conventional cell,
you should supply the conventional structure.</dd>
<dt>oxidation (dic) - dictionary of effective oxidation states, e. g. {‘Y’:’Y3+’, ‘Ba’:’Ba2+’, ‘Co’:’Co2.25+’, ‘O’:’O2-‘}</dt>
<dd>allows to calculate dipole moment</dd>
</dl>
<p>surface_i (int) - choose particular surface</p>
<p>min_slab_size (float) - minimum slab size</p>
<p class="last">min_vacuum_size (float) - vacuum thicknes in A</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="siman.geo.create_surface2">
<code class="descclassname">siman.geo.</code><code class="descname">create_surface2</code><span class="sig-paren">(</span><em>st</em>, <em>miller_index</em>, <em>shift=None</em>, <em>min_slab_size=10</em>, <em>min_vacuum_size=10</em>, <em>surface_i=0</em>, <em>oxidation=None</em>, <em>suf=''</em>, <em>primitive=None</em>, <em>symmetrize=False</em>, <em>cut_thickness=None</em>, <em>return_one=False</em>, <em>write_poscar=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#create_surface2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.create_surface2" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>INPUT:</dt>
<dd><dl class="first docutils">
<dt>st (Structure) - Initial input structure. Note that to</dt>
<dd>ensure that the miller indices correspond to usual
crystallographic definitions, you should supply a conventional
unit cell structure.</dd>
<dt>pymatgen-related:</dt>
<dd><dl class="first docutils">
<dt>miller_index ([h, k, l]): Miller index of plane parallel to</dt>
<dd>surface. Note that this is referenced to the input structure. If
you need this to be based on the conventional cell,
you should supply the conventional structure.</dd>
<dt>oxidation (dic) - dictionary of effective oxidation states, e. g. {‘Y’:’Y3+’, ‘Ba’:’Ba2+’, ‘Co’:’Co2.25+’, ‘O’:’O2-‘}</dt>
<dd>allows to calculate dipole moment</dd>
</dl>
<p>surface_i (int) - choose particular surface</p>
<p>min_slab_size (float) - minimum slab size</p>
<p>min_vacuum_size (float) - vacuum thicknes in A</p>
<p class="last">symmetrize - try to make both surfaces exact</p>
</dd>
</dl>
<p class="last">my_paramters:
shift (float) - shift along z 
cut_thickness (float) - in A - allow to remove more layers from top
return_one (bool) - allows to return only one Structure, otherwise list of pymatgen slabs is returned 
write_poscar (bool) -self-explained</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="siman.geo.cubic_supercell">
<code class="descclassname">siman.geo.</code><code class="descname">cubic_supercell</code><span class="sig-paren">(</span><em>st</em>, <em>ortho_sizes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#cubic_supercell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.cubic_supercell" title="Permalink to this definition">¶</a></dt>
<dd><p>wrapper</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.determine_symmetry_positions">
<code class="descclassname">siman.geo.</code><code class="descname">determine_symmetry_positions</code><span class="sig-paren">(</span><em>st</em>, <em>element</em>, <em>silent=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#determine_symmetry_positions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.determine_symmetry_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>determine non-equivalent positions for atoms of type <em>element</em></p>
<p>element (str) - name of element, for example Li</p>
<p>return list of lists -  atom numbers for each non-equivalent position</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.find_moving_atom">
<code class="descclassname">siman.geo.</code><code class="descname">find_moving_atom</code><span class="sig-paren">(</span><em>st1</em>, <em>st2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#find_moving_atom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.find_moving_atom" title="Permalink to this definition">¶</a></dt>
<dd><p>find moving atom</p>
<p>The cells should have the same rprimd!</p>
<p>return number of atom which moves between two cell</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.image_distance">
<code class="descclassname">siman.geo.</code><code class="descname">image_distance</code><span class="sig-paren">(</span><em>x1</em>, <em>x2</em>, <em>r</em>, <em>order=1</em>, <em>sort_flag=True</em>, <em>return_n_distances=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#image_distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.image_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate smallest distance and the next smallest distance between two atoms 
correctly treating periodic boundary conditions and oblique cells.
x1, x2 - vector[3] xcart coordinates of two atoms
r - rprimd of cell
order - the order of periodic images which are accounted in the calcualtion of distances between atoms.
for cubic cells, order = 1 always provide correct result.
For highly oblique cell you should test and find the needed value of ‘order’ after which results are the same.
sort_flag (bool) - use False if you do not need sorting of distances</p>
<p>return_n_distances(bool) - returns required number of smallest distances, depending on order</p>
<p>return d1, d2 - the smallest and next smallest distances between atoms</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.local_surrounding">
<code class="descclassname">siman.geo.</code><code class="descname">local_surrounding</code><span class="sig-paren">(</span><em>x_central</em>, <em>st</em>, <em>n_neighbours</em>, <em>control='sum'</em>, <em>periodic=False</em>, <em>only_elements=None</em>, <em>only_numbers=None</em>, <em>round_flag=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#local_surrounding"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.local_surrounding" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of distances to n closest atoms around central atom. (By defauld sum of distances)</p>
<p>Input:
- x_central - cartesian coordinates of central atom; vector
- st - structure with xcart list of coordinates of all atoms in system
- n_neighbours - number of needed closest neighbours</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>control - type of output; </dt>
<dd>sum - sum of distances, 
av - average distance, 
avsq - average squared dist
‘mavm’: #min, av, max, av excluding min and max
av_dev - return (average deviation, maximum deviation) from average distance in mA.
list - list of distances; 
atoms  - coordinates of neighbours</dd>
</dl>
</li>
<li>periodic - if True, then cell is additionaly replicated; needed for small cells</li>
</ul>
<dl class="docutils">
<dt>Only for control = atoms</dt>
<dd><ul class="first last simple">
<li><em>only_elements</em> - list of z of elements to which only the distances are needed;</li>
<li>only_numbers  (list of int) - calc dist only to this atoms</li>
</ul>
</dd>
</dl>
<p>round_flag (bool) - if 1 than reduce distance prec to 2 points</p>
<p>#TODO:
the periodic boundary conditions realized very stupid by replicating the cell!</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.local_surrounding2">
<code class="descclassname">siman.geo.</code><code class="descname">local_surrounding2</code><span class="sig-paren">(</span><em>x_central</em>, <em>st</em>, <em>n_neighbours</em>, <em>control='sum'</em>, <em>periodic=False</em>, <em>only_elements=None</em>, <em>only_numbers=None</em>, <em>round_flag=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#local_surrounding2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.local_surrounding2" title="Permalink to this definition">¶</a></dt>
<dd><p>!!! Attempt to improve speed of periodic conditions!
#control = ‘atoms’ could work wrong!!! check</p>
<p>Return list of distances to n closest atoms around central atom. (By defauld sum of distances)</p>
<p>Input:
- x_central - cartesian coordinates of central atom; vector
- st - structure with xcart list of coordinates of all atoms in system
- n_neighbours - number of needed closest neighbours</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>control - type of output; </dt>
<dd>sum - sum of distances, 
av - average distance, 
avsq - average squared dist
‘mavm’: #min, av, max, av excluding min and max
av_dev - return (average deviation, maximum deviation) from average distance in mA.
list - list of distances; 
atoms  - coordinates of neighbours</dd>
</dl>
</li>
<li>periodic - if True, then cell is additionaly replicated; needed for small cells</li>
</ul>
<dl class="docutils">
<dt>Only for control = atoms</dt>
<dd><ul class="first last simple">
<li><em>only_elements</em> - list of z of elements to which only the distances are needed;</li>
<li>only_numbers  (list of int) - calc dist only to this atoms</li>
</ul>
</dd>
</dl>
<p>round_flag (bool) - if 1 than reduce distance prec to 2 points</p>
<p>#TODO:
the periodic boundary conditions realized very stupid by replicating the cell!</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.ortho_vec">
<code class="descclassname">siman.geo.</code><code class="descname">ortho_vec</code><span class="sig-paren">(</span><em>rprim</em>, <em>ortho_sizes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#ortho_vec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.ortho_vec" title="Permalink to this definition">¶</a></dt>
<dd><p>Function returns mul_mat - 3 vectors of integer numbers (ndarray)
By calculating np.dot(mul_matrix, rprim) you will get rprim of orthogonal supercell (actually as close as possible to it)</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.ortho_vec_old">
<code class="descclassname">siman.geo.</code><code class="descname">ortho_vec_old</code><span class="sig-paren">(</span><em>rprim</em>, <em>ortho_sizes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#ortho_vec_old"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.ortho_vec_old" title="Permalink to this definition">¶</a></dt>
<dd><p>old function
Function returns mul_mat - 3 vectors of integer numbers (ndarray)
By calculating np.dot(mul_matrix, st.rprimd) you will get rprim of orthogonal supercell (actually as close as possible to it)</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.primitive">
<code class="descclassname">siman.geo.</code><code class="descname">primitive</code><span class="sig-paren">(</span><em>st</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#primitive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.primitive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.geo.remove_atoms">
<code class="descclassname">siman.geo.</code><code class="descname">remove_atoms</code><span class="sig-paren">(</span><em>st</em>, <em>atoms_to_remove</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#remove_atoms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.remove_atoms" title="Permalink to this definition">¶</a></dt>
<dd><p>remove atoms either of types provided in <em>atoms_to_remove</em> or having numbers provided in <em>atoms_to_remove</em>
st (Structure)
atoms_to_remove (list) - list of element names or numbers</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.remove_half">
<code class="descclassname">siman.geo.</code><code class="descname">remove_half</code><span class="sig-paren">(</span><em>st</em>, <em>el</em>, <em>sg=None</em>, <em>info_mode=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#remove_half"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.remove_half" title="Permalink to this definition">¶</a></dt>
<dd><p># works only for</p>
<p>sg - required space group</p>
<p>TODO
1. Take care about matching the initial cell and supercell from primitive
Now the manual shift is done</p>
<ol class="arabic simple" start="2">
<li>Make full conversion from pymat structure to mine</li>
</ol>
</dd></dl>

<dl class="function">
<dt id="siman.geo.remove_half_based_on_symmetry">
<code class="descclassname">siman.geo.</code><code class="descname">remove_half_based_on_symmetry</code><span class="sig-paren">(</span><em>st</em>, <em>sg=None</em>, <em>info_mode=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#remove_half_based_on_symmetry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.remove_half_based_on_symmetry" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate all possible configurations by removing half of atoms
sg (int) - give back structure with specific space group</p>
<p>info_mode (bool) if 1 then return list of possible space groups</p>
<p>return list of structures with sg space groups</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.remove_one_atom">
<code class="descclassname">siman.geo.</code><code class="descname">remove_one_atom</code><span class="sig-paren">(</span><em>st</em>, <em>element</em>, <em>del_pos=None</em>, <em>iat=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#remove_one_atom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.remove_one_atom" title="Permalink to this definition">¶</a></dt>
<dd><p>removes one atom of element type from position del_pos
iat - number of atom inside subset</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.remove_x">
<code class="descclassname">siman.geo.</code><code class="descname">remove_x</code><span class="sig-paren">(</span><em>st</em>, <em>el</em>, <em>sg=None</em>, <em>info_mode=0</em>, <em>x=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#remove_x"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.remove_x" title="Permalink to this definition">¶</a></dt>
<dd><p># works only for 
x - remove x of atoms, for example 0.25 of atoms</p>
<p>sg - required space group</p>
<p>TODO
1. Take care about matching the initial cell and supercell from primitive
Now the manual shift is done</p>
<ol class="arabic simple" start="2">
<li>Make full conversion from pymat structure to mine</li>
</ol>
</dd></dl>

<dl class="function">
<dt id="siman.geo.remove_x_based_on_symmetry">
<code class="descclassname">siman.geo.</code><code class="descname">remove_x_based_on_symmetry</code><span class="sig-paren">(</span><em>st</em>, <em>sg=None</em>, <em>info_mode=0</em>, <em>x=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#remove_x_based_on_symmetry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.remove_x_based_on_symmetry" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate all possible configurations by removing half of atoms
sg (int) - give back structure with specific space group</p>
<p>info_mode (bool) if 1 then return list of possible space groups</p>
<p>return list of structures with sg space groups</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.replic">
<code class="descclassname">siman.geo.</code><code class="descname">replic</code><span class="sig-paren">(</span><em>structure</em>, <em>mul=(1</em>, <em>1</em>, <em>1)</em>, <em>inv=1</em>, <em>only_atoms=None</em>, <em>cut_one_cell=None</em>, <em>include_boundary=(1</em>, <em>1)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#replic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.replic" title="Permalink to this definition">¶</a></dt>
<dd><p>Replicate structure() according to: mul[i]*rprimd[i]</p>
<p>Input:
structure - structure() type
mul[] - is tuple of three integer numbers
Use from structure:
xcart, typat, rprimd, natom, xred
inv - 1 or -1 allows to replicate in different directions</p>
<p>inv = 0 - cell is replicated in both directions by mul[i];  2 still gives -1 0 1 but 3 gives -2 -1 0 1 2; for ‘only_matrix’ may work not correctly</p>
<dl class="docutils">
<dt>only_atoms - allows to replicate only specific atoms; now </dt>
<dd><dl class="first last docutils">
<dt>‘only_matrix’</dt>
<dd>Warning - st.select is not working here</dd>
</dl>
</dd>
</dl>
<p>cut_one_cell - allows to cut only one cell with replicated edge atoms
include_boundary (A) - the width of region to include additional edge atoms (bottom, up)</p>
<p>Return:
replicated structure</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.scale_cell_by_matrix">
<code class="descclassname">siman.geo.</code><code class="descname">scale_cell_by_matrix</code><span class="sig-paren">(</span><em>st</em>, <em>scale_region=(-4</em>, <em>4)</em>, <em>n_scale_images=7</em>, <em>parent_calc_name=None</em>, <em>mul_matrix=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#scale_cell_by_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.scale_cell_by_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale  rprimd and xcart of structure() object <em>st</em> from <em>scale_region[0]</em> to <em>scale_region[1]</em>  (%) using <em>n_scale_images</em> images
and mul_matrix.
<em>parent_calc_name</em> is added to st.des
Return:
list of scaled Structure() objects</p>
<p>TODO: Take care of vol, recip and so on - the best is to create some method st.actual() that update all information</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.scale_cell_uniformly">
<code class="descclassname">siman.geo.</code><code class="descname">scale_cell_uniformly</code><span class="sig-paren">(</span><em>st</em>, <em>scale_region=(-4</em>, <em>4)</em>, <em>n_scale_images=7</em>, <em>parent_calc_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#scale_cell_uniformly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.scale_cell_uniformly" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale uniformly rprimd and xcart of structure() object <em>st</em> from <em>scale_region[0]</em> to <em>scale_region[1]</em>  (%) using <em>n_scale_images</em> images.
<em>parent_calc_name</em> is added to st.des
Return:
list of scaled Structure() objects</p>
<p>TODO: Take care of vol, recip and so on - the best is to create some method st.actual() that update all information</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.supercell">
<code class="descclassname">siman.geo.</code><code class="descname">supercell</code><span class="sig-paren">(</span><em>st</em>, <em>ortho_sizes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#supercell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.supercell" title="Permalink to this definition">¶</a></dt>
<dd><p>wrapper</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.xcart2xred">
<code class="descclassname">siman.geo.</code><code class="descname">xcart2xred</code><span class="sig-paren">(</span><em>xcart</em>, <em>rprimd</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#xcart2xred"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.xcart2xred" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert from cartesian coordinates xcart to
dimensionless reduced coordinates 
Input: xcart - list of numpy arrays, rprimd - list of numpy arrays
Output: xred - list of numpy arrays</p>
</dd></dl>

<dl class="function">
<dt id="siman.geo.xred2xcart">
<code class="descclassname">siman.geo.</code><code class="descname">xred2xcart</code><span class="sig-paren">(</span><em>xred</em>, <em>rprimd</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/geo.html#xred2xcart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.geo.xred2xcart" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert from dimensionless reduced coordinates to
cartesian coordinates xcart;</p>
<blockquote>
<div>Input: xred - list of numpy arrays, rprimd - list of numpy arrays
Output: xcart - list of numpy arrays</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-siman.header">
<span id="siman-header-module"></span><h2>siman.header module<a class="headerlink" href="#module-siman.header" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="siman.header.CalcDict">
<em class="property">class </em><code class="descclassname">siman.header.</code><code class="descname">CalcDict</code><a class="reference internal" href="_modules/siman/header.html#CalcDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.header.CalcDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<dl class="method">
<dt id="siman.header.CalcDict.items">
<code class="descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; a set-like object providing a view on D's items<a class="reference internal" href="_modules/siman/header.html#CalcDict.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.header.CalcDict.items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="siman.header.pickle_module_migration_script">
<code class="descclassname">siman.header.</code><code class="descname">pickle_module_migration_script</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/header.html#pickle_module_migration_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.header.pickle_module_migration_script" title="Permalink to this definition">¶</a></dt>
<dd><p>This script allows to update modules in database after moving them to siman package</p>
</dd></dl>

<dl class="function">
<dt id="siman.header.print_and_log">
<code class="descclassname">siman.header.</code><code class="descname">print_and_log</code><span class="sig-paren">(</span><em>*logstrings</em>, <em>**argdic</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/header.html#print_and_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.header.print_and_log" title="Permalink to this definition">¶</a></dt>
<dd><p>‘’ - silent
e - errors and warnings
a - attentions
m - minimalistic output of scientific procedures - only obligatory mess are shown
M - maximalistic output of scientific procedures  
debug_level importance:</p>
<blockquote>
<div>‘n’ - not important at all - for debugging
‘’  - almost all actions, no flag is needed
‘y’ - important - major actions
‘Y’ - super important, or output asked by user</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="siman.header.printlog">
<code class="descclassname">siman.header.</code><code class="descname">printlog</code><span class="sig-paren">(</span><em>*logstrings</em>, <em>**argdic</em><span class="sig-paren">)</span><a class="headerlink" href="#siman.header.printlog" title="Permalink to this definition">¶</a></dt>
<dd><p>‘’ - silent
e - errors and warnings
a - attentions
m - minimalistic output of scientific procedures - only obligatory mess are shown
M - maximalistic output of scientific procedures  
debug_level importance:</p>
<blockquote>
<div>‘n’ - not important at all - for debugging
‘’  - almost all actions, no flag is needed
‘y’ - important - major actions
‘Y’ - super important, or output asked by user</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="siman.header.runBash">
<code class="descclassname">siman.header.</code><code class="descname">runBash</code><span class="sig-paren">(</span><em>cmd</em>, <em>env=None</em>, <em>detached=False</em>, <em>cwd=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/header.html#runBash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.header.runBash" title="Permalink to this definition">¶</a></dt>
<dd><p>Input - string; Executes Bash commands and returns stdout
Need: import subprocess</p>
</dd></dl>

<dl class="function">
<dt id="siman.header.run_win_cmd">
<code class="descclassname">siman.header.</code><code class="descname">run_win_cmd</code><span class="sig-paren">(</span><em>cmd</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/header.html#run_win_cmd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.header.run_win_cmd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-siman.helper_for_writing_beatiful_code">
<span id="siman-helper-for-writing-beatiful-code-module"></span><h2>siman.helper_for_writing_beatiful_code module<a class="headerlink" href="#module-siman.helper_for_writing_beatiful_code" title="Permalink to this headline">¶</a></h2>
<p>Template for doc using markdown markup language [<a class="reference external" href="https://daringfireball.net/projects/markdown/">https://daringfireball.net/projects/markdown/</a>]:</p>
<p>Function description;</p>
<p>###INPUT:</p>
<blockquote>
<div><ul class="simple">
<li>parameter 1 (type) - description</li>
<li>parameter 2 (type) - description</li>
</ul>
</div></blockquote>
<p>###RETURN:</p>
<blockquote>
<div>None</div></blockquote>
<p>###DEPENDS:</p>
</div>
<div class="section" id="module-siman.impurity">
<span id="siman-impurity-module"></span><h2>siman.impurity module<a class="headerlink" href="#module-siman.impurity" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.impurity.add_impurity">
<code class="descclassname">siman.impurity.</code><code class="descname">add_impurity</code><span class="sig-paren">(</span><em>it_new</em>, <em>impurity_type=None</em>, <em>addtype='central'</em>, <em>calc=[]</em>, <em>r_pore=0.5</em>, <em>it_to=''</em>, <em>ise_to=''</em>, <em>verlist_to=[]</em>, <em>copy_geo_from=''</em>, <em>find_close_to=()</em>, <em>add_to_version=0</em>, <em>write_geo=True</em>, <em>only_version=None</em>, <em>fine=4</em>, <em>put_exactly_to=None</em>, <em>check_pore_vol=0</em>, <em>replace_atom=None</em>, <em>override=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/impurity.html#add_impurity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.impurity.add_impurity" title="Permalink to this definition">¶</a></dt>
<dd><p>Add impurities in pores.</p>
<p>Input:
it_new - name of new structure with impurity</p>
<p>impurity_type - name of impurity from Mendeley table, for example ‘C’</p>
<p>addtype - type of adding: [‘central’,]; ‘central’ means that impurity 
will be placed as close to the geometrical center of cell as possible.</p>
<p>it_to , ise_to , verlist_to - completed calculations in which impurity 
will be added</p>
<p>if ‘verlist_to’ is empty, function will try to find geometry files in ‘geo_folder + struct_des[it_to].sfolder’ folder;
even if ‘it_to’ is empty it will try to find files in ‘geo_folder + struct_des[it_new].sfolder+’/from’ ‘ folder.
‘ise_to’ also can be empty</p>
<p>if ‘copy_geo_from’ is not empty, then programm copy all files from folder ‘copy_geo_from’ to 
folder ‘geo_folder + struct_des[it_to].sfolder+”/”+it_to’ or  ‘geo_folder + struct_des[it_new].sfolder+”/from” ‘</p>
<p>‘find_close_to’ is tuple of three reduced coordinates of point close to which you want to find impurity. If empty - ignored;</p>
<p>‘add_to_version’ is integer number added to each ‘verlist_to’ number to produce ver_new.</p>
<p>‘only_version’ - if == [v,], then instertion will be provided only for v. If None insertion will be made in all found versions</p>
<p>If you want to add impurity to relaxed structure …</p>
<p>‘fine’ - integer number; allows to reduce number of small steps for defining center</p>
<p>Possible addtype’s:
‘central’ - add one atom to the pore which is most close to  the center of the cell but with reduced coordinates less than 0.5 0.5 0.5
‘all_pore’  - add atoms in every found pore
‘all_local’ - add atoms to every local point which allows to visualise topology of pores.
‘gb’ - uses self.gbpos and places atom close to this value assuming that it will be at gb
‘grain_vol’ - uses self.gbpos and assuming that cell contains two gb and two equal grains, places atom close to the centre of grain; y and z can be arbiratry</p>
<p>put_exactly_to - will add impurity to this point 
find_close_to - will try to find closest void and insert pore here.</p>
<p>check_pore_vol - allows to estimate volume of pores; has problems for big cells</p>
<p>replace_atom - if not None, than the specified atom is substituted</p>
<p>Side effects: creates new geometry folder with input structures;</p>
</dd></dl>

<dl class="function">
<dt id="siman.impurity.create_c_array">
<code class="descclassname">siman.impurity.</code><code class="descname">create_c_array</code><span class="sig-paren">(</span><em>pylist</em>, <em>ctype</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/impurity.html#create_c_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.impurity.create_c_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.impurity.determine_unique_voids">
<code class="descclassname">siman.impurity.</code><code class="descname">determine_unique_voids</code><span class="sig-paren">(</span><em>st_pores</em>, <em>sums</em>, <em>avds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/impurity.html#determine_unique_voids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.impurity.determine_unique_voids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.impurity.determine_voids">
<code class="descclassname">siman.impurity.</code><code class="descname">determine_voids</code><span class="sig-paren">(</span><em>st</em>, <em>r_impurity</em>, <em>fine=1</em>, <em>step_dec=0.05</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/impurity.html#determine_voids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.impurity.determine_voids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.impurity.find_pores">
<code class="descclassname">siman.impurity.</code><code class="descname">find_pores</code><span class="sig-paren">(</span><em>st_in</em>, <em>r_matrix=1.4</em>, <em>r_impurity=0.6</em>, <em>step_dec=0.05</em>, <em>fine=0.3</em>, <em>prec=0.1</em>, <em>calctype='central'</em>, <em>gbpos=0</em>, <em>find_close_to=()</em>, <em>check_pore_vol=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/impurity.html#find_pores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.impurity.find_pores" title="Permalink to this definition">¶</a></dt>
<dd><p>st_in - input Structure() object
r_impurity (A)- all pores smaller than this radius will be found
r_matrix (A) - radius of matrix atoms disregarding to their type
step_dec - scanning step of the cell in Angstroms
fine - allows to change density of local points; local_step = step_dec/fine
prec - precicion of pore center determination
check_pore_vol - allows to estimate volume of pores; has problems for big cells</p>
<p>‘find_close_to’ - works in the cases of gb and grain_vol; allows to ignore all and find pore close to provided three reduced coordinates
return - instance of Structure() class with coordinates of pores. Number and type of included pores depend on the argument of ‘calctype’.</p>
</dd></dl>

<dl class="function">
<dt id="siman.impurity.insert">
<code class="descclassname">siman.impurity.</code><code class="descname">insert</code><span class="sig-paren">(</span><em>it_ins</em>, <em>ise_ins</em>, <em>mat_path</em>, <em>it_new</em>, <em>calc</em>, <em>type_of_insertion='xcart'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/impurity.html#insert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.impurity.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>For insertion of atoms to cells with changed lateral sizes
Input:
‘type_of_insertion = xred’ used to add xred coordinates  
mat_path - path to geo files which are supposed to be changed
it_ins - already existed calculation; xred will be used from this calculation.
it_new - new folder in geo folder for obtained structure</p>
<p>This function finds version of calculation in folder mat_path and tries to use the same version of it_ins</p>
</dd></dl>

<dl class="function">
<dt id="siman.impurity.insert_atom">
<code class="descclassname">siman.impurity.</code><code class="descname">insert_atom</code><span class="sig-paren">(</span><em>st</em>, <em>el</em>, <em>i_void=None</em>, <em>r_imp=1.6</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/impurity.html#insert_atom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.impurity.insert_atom" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple Wrapper for inserting atoms</p>
</dd></dl>

<dl class="function">
<dt id="siman.impurity.insert_cluster">
<code class="descclassname">siman.impurity.</code><code class="descname">insert_cluster</code><span class="sig-paren">(</span><em>insertion</em>, <em>i_center</em>, <em>matrix</em>, <em>m_center</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/impurity.html#insert_cluster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.impurity.insert_cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Take care of orientation; typat should be consistent
Input:
insertion -  object of class Structure(), which is supposed to be inserted in matrix
in such a way that i_center will be combined with m_center.
matrix - object of class Structure().
i_center, m_center - numpy arrays (3).</p>
</dd></dl>

</div>
<div class="section" id="module-siman.inout">
<span id="siman-inout-module"></span><h2>siman.inout module<a class="headerlink" href="#module-siman.inout" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.inout.read_poscar">
<code class="descclassname">siman.inout.</code><code class="descname">read_poscar</code><span class="sig-paren">(</span><em>st</em>, <em>filename</em>, <em>new=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/inout.html#read_poscar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.inout.read_poscar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.inout.read_xyz">
<code class="descclassname">siman.inout.</code><code class="descname">read_xyz</code><span class="sig-paren">(</span><em>st</em>, <em>filename</em>, <em>rprimd=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/inout.html#read_xyz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.inout.read_xyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Read xyz file into st</p>
<p>rprimd (list of lists) - if None or [None, ] then Tv are read; if Tv does not exist then create automatically</p>
</dd></dl>

<dl class="function">
<dt id="siman.inout.write_jmol">
<code class="descclassname">siman.inout.</code><code class="descname">write_jmol</code><span class="sig-paren">(</span><em>xyzfile</em>, <em>pngfile</em>, <em>scriptfile=None</em>, <em>atomselection=None</em>, <em>topview=0</em>, <em>orientation=None</em>, <em>axis=False</em>, <em>bonds=True</em>, <em>rprimd=None</em>, <em>shift=None</em>, <em>rotate=None</em>, <em>label=None</em>, <em>high_contrast=None</em>, <em>specialcommand=None</em>, <em>boundbox=2</em>, <em>atom_labels=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/inout.html#write_jmol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.inout.write_jmol" title="Permalink to this definition">¶</a></dt>
<dd><p>atomselection - string in gmol format with number of atoms to be nrotateSelected
topview - additional top view, requires two models in xyz
orientation - additional rotation
axis - add axes
rotate - rotation of all atoms around view axis in degrees
label (tuple ()) - used for impurities, please decribe
atom_labels (bool) - turn on atom labels</p>
</dd></dl>

<dl class="function">
<dt id="siman.inout.write_lammps">
<code class="descclassname">siman.inout.</code><code class="descname">write_lammps</code><span class="sig-paren">(</span><em>st</em>, <em>filename=''</em>, <em>charges=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/inout.html#write_lammps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.inout.write_lammps" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes structure in lammps format</p>
<p>charges (list of float) - list of charges for each atom type</p>
</dd></dl>

<dl class="function">
<dt id="siman.inout.write_occmatrix">
<code class="descclassname">siman.inout.</code><code class="descname">write_occmatrix</code><span class="sig-paren">(</span><em>occs</em>, <em>folder</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/inout.html#write_occmatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.inout.write_occmatrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.inout.write_xyz">
<code class="descclassname">siman.inout.</code><code class="descname">write_xyz</code><span class="sig-paren">(</span><em>st=None</em>, <em>path=None</em>, <em>filename=None</em>, <em>file_name=None</em>, <em>include_vectors=True</em>, <em>repeat=1</em>, <em>shift_2view=1.0</em>, <em>replications=None</em>, <em>full_cell=False</em>, <em>analysis=None</em>, <em>show_around=None</em>, <em>show_around_x=None</em>, <em>nnumber=6</em>, <em>only_elements=None</em>, <em>gbpos2=None</em>, <em>gbwidth=1</em>, <em>withgb=False</em>, <em>include_boundary=2</em>, <em>imp_positions=[]</em>, <em>imp_sub_positions=None</em>, <em>jmol=None</em>, <em>specialcommand=None</em>, <em>jmol_args=None</em>, <em>sts=None</em>, <em>mcif=0</em>, <em>suf=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/inout.html#write_xyz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.inout.write_xyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes st structure in xyz format in the folder xyz/path
#void are visualized with Pu
if repeat == 2: produces jmol script
shift_2view - in rprimd[1][1] - shift of the second view
gbpos2 - position of grain boundary in A
gbwidth - atoms aroung gbpos2 will be colored differently</p>
<p>imp_positions - (x1,x2,x3, element, label)- xcart and element name coordinates additionally to be added to structure; to visulaze all impurity positions: for jmol, additional key ‘s’, ‘i’ can be added after element
imp_sub_positions - list of atom numbers; the typat of these atoms is changed: not used now</p>
<dl class="docutils">
<dt>analysis - additional processing, allows to show only specifice atoms, </dt>
<dd>‘imp_surrounding’ - shows Ti atoms only around impurity
nnumber - number of neighbours to show
show_around - choose atom number around which to show, from 1
show_around_x - show atoms around point, has higher priority
only_elements - see local_surrounding</dd>
</dl>
<p>replications - list of replications, (2,2,2)</p>
<p>full_cell - returns atoms to cell and replicate boundary atoms</p>
<p>include_vectors (bool) - write primitive vectors to xyz</p>
<p>jmol - 1,0 -  use jmol to produce png picture
jmol_args - see write_jmol()
mcif - write magnetic cif for jmol</p>
<p>specialcommand - any command at the end of jmol script
suf - additional suffix for name</p>
<p>sts - list of Structure - write several structures to xyz file - other options are not working in this regime</p>
</dd></dl>

</div>
<div class="section" id="module-siman.monte">
<span id="siman-monte-module"></span><h2>siman.monte module<a class="headerlink" href="#module-siman.monte" title="Permalink to this headline">¶</a></h2>
<p>Program Monte-Carlo by Aksyonov Dmitry, Skoltech, Moscow</p>
<dl class="function">
<dt id="siman.monte.check">
<code class="descclassname">siman.monte.</code><code class="descname">check</code><span class="sig-paren">(</span><em>cl</em>, <em>exit=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/monte.html#check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.monte.check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.monte.vasp_run">
<code class="descclassname">siman.monte.</code><code class="descname">vasp_run</code><span class="sig-paren">(</span><em>n</em>, <em>des</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/monte.html#vasp_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.monte.vasp_run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-siman.monte_functions">
<span id="siman-monte-functions-module"></span><h2>siman.monte_functions module<a class="headerlink" href="#module-siman.monte_functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.monte_functions.metropolis">
<code class="descclassname">siman.monte_functions.</code><code class="descname">metropolis</code><span class="sig-paren">(</span><em>E1</em>, <em>E2</em>, <em>T=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/monte_functions.html#metropolis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.monte_functions.metropolis" title="Permalink to this definition">¶</a></dt>
<dd><p>Metropolis algorithm</p>
</dd></dl>

<dl class="function">
<dt id="siman.monte_functions.random">
<code class="descclassname">siman.monte_functions.</code><code class="descname">random</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; x in the interval [0, 1).<a class="headerlink" href="#siman.monte_functions.random" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-siman.neb">
<span id="siman-neb-module"></span><h2>siman.neb module<a class="headerlink" href="#module-siman.neb" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.neb.add_neb">
<code class="descclassname">siman.neb.</code><code class="descname">add_neb</code><span class="sig-paren">(</span><em>starting_calc=None, st=None, st_end=None, it_new=None, ise_new=None, i_atom_to_move=None, up='up2', search_type='vacancy_creation', images=None, r_impurity=None, corenum=None, calc_method=['neb'], inherit_option=None, mag_config=None, i_void_start=None, i_void_final=None, atom_to_insert=None, atom_to_move=None, rep_moving_atom=None, end_pos_types_z=None, replicate=None, it_new_folder=None, it_folder=None, inherit_magmom=False, x_start=None, xr_start=None, x_final=None, xr_final=None, upload_vts=False, center_on_moving=True, run=False, add_loop_dic=None, old_behaviour=None, params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/neb.html#add_neb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.neb.add_neb" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare needed files for NEB
Provides several regimes controlled by <em>search_type</em> flag:</p>
<blockquote>
<div><ul class="simple">
<li>existing_voids - search for voids around atom and use them as a final position</li>
<li>vacancy_creation - search for neighbors of the same type and make a vacancy as a start position</li>
<li><dl class="first docutils">
<dt>interstitial_insertion - search for two neighboring voids; use them as start and final positions</dt>
<dd>by inserting atom <em>atom_to_insert</em></dd>
</dl>
</li>
<li>None - just use st and st2 as initial and final</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>###INPUT:</dt>
<dd><ul class="first last simple">
<li>starting_calc (Calculation) - Calculation object with structure</li>
<li><dl class="first docutils">
<dt>st (Structure) - structure, can be used instead of Calculation</dt>
<dd><ul class="first last">
<li>it_new (str) - name for calculation</li>
</ul>
</dd>
</dl>
</li>
<li>st_end (Structure) - final structure</li>
<li>i_atom_to_move (int) - number of atom for moving starting from 0;</li>
<li><em>mag_config</em> (int ) - choose magnetic configuration - allows to obtain different localizations of electron</li>
<li><em>replicate</em> (tuple 3*int) - replicate cell along rprimd</li>
<li>i_void_start,  i_void_final (int) - position numbers of voids (or atoms) from the suggested lists</li>
<li>atom_to_insert  (str) - element name of atom to insert</li>
<li>atom_to_move (str) - element name of atom to move</li>
<li>it_new_folder or it_folder  (str) - section folder</li>
<li>inherit_option (str) - passed only to add_loop</li>
<li>inherit_magmom (bool) - if True than magmom from starting_calc is used, else from set</li>
<li>end_pos_types_z (list of int) - list of Z - type of atoms, which could be considered as final positions in vacancy creation mode</li>
<li><dl class="first docutils">
<dt>calc_method (list)</dt>
<dd><ul class="first last">
<li>‘neb’</li>
<li>‘only_neb’ - run only footer</li>
</ul>
</dd>
</dl>
</li>
<li>x_start, x_final (array) - explicit xcart coordinates of moving atom for starting and final positions, combined with atom_to_insert</li>
<li>xr_start, xr_final (array) - explicit xred</li>
<li>rep_moving_atom (str)- replace moving atom by needed atom - can be useful than completly different atom is needed.</li>
<li>upload_vts (bool) - if True upload Vasp.pm and nebmake.pl to server</li>
<li>run (bool)  - run on server</li>
</ul>
</dd>
<dt>###RETURN:</dt>
<dd>None</dd>
</dl>
<p>###DEPENDS:</p>
<p>###TODO
1. Take care of manually provided i_atom_to_move in case of replicate flag using init_numbers 
2. For search_type == None x_m and x_del should be determined for magnetic searching and for saving their coordinates
to struct_des; now their just (0,0,0)</p>
</dd></dl>

<dl class="function">
<dt id="siman.neb.determine_unique_final">
<code class="descclassname">siman.neb.</code><code class="descname">determine_unique_final</code><span class="sig-paren">(</span><em>st_pores</em>, <em>sums</em>, <em>avds</em>, <em>x_m</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/neb.html#determine_unique_final"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.neb.determine_unique_final" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-siman.pairs">
<span id="siman-pairs-module"></span><h2>siman.pairs module<a class="headerlink" href="#module-siman.pairs" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.pairs.PBC">
<code class="descclassname">siman.pairs.</code><code class="descname">PBC</code><span class="sig-paren">(</span><em>dx</em>, <em>r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/pairs.html#PBC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.pairs.PBC" title="Permalink to this definition">¶</a></dt>
<dd><p>can be incorrect
Realisation of periodic boundary conditions in common case
dx - vector[3] difference between coordinates of two atoms
r - rprimd of cell
return dx - the smallest distance between atoms</p>
</dd></dl>

<dl class="function">
<dt id="siman.pairs.create_coseg_samples">
<code class="descclassname">siman.pairs.</code><code class="descname">create_coseg_samples</code><span class="sig-paren">(</span><em>base_name</em>, <em>it_b</em>, <em>ise_b</em>, <em>ver</em>, <em>calc</em>, <em>path_template</em>, <em>imp_size=0.44</em>, <em>fine_mul=4</em>, <em>gbpos=None</em>, <em>segtyp=None</em>, <em>input_dlist_coseg=None</em>, <em>xcart1imp=None</em>, <em>xcart2imp=None</em>, <em>main_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/pairs.html#create_coseg_samples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.pairs.create_coseg_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Create all cells for co-segregation calculations.</p>
<p>Input:
base_name - the names of seg and coseg cases will be started from this name</p>
<p>input_dlist_coseg - needed to construct corresponding segregation cases (segtyp = ‘segreg’), but in relaxed cell, where
one atom is in grain volume. Must be initialy constructed using segtyp = ‘coseg’;</p>
<p>1. it_b, ise_b, base cell with relaxed grain boundaries (self.gbpos - position of one gb) 
ver - version to create
and one carbon atom in the volume of one grain 
(can be several versions).</p>
<p>2. path_template - path to geo files with template cells with correct rprimd for cell with CO
(can be several versions).</p>
<p>imp_size - size of pores, which are being found trying to insert impurity</p>
</dd></dl>

<dl class="function">
<dt id="siman.pairs.find_pairs">
<code class="descclassname">siman.pairs.</code><code class="descname">find_pairs</code><span class="sig-paren">(</span><em>base_name, segtyp, in_calc, central_atoms=[], xcart1imp=None, input_dlist_coseg=None, prec=2, gvolume_config_num=None, gbpos=None, take_final_rprimd_from=None, main_path=None, based_on=None, target_znucl=[22, 6, 8], max_dist_between_atoms=4.8, add_typat=[2, 3]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/pairs.html#find_pairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.pairs.find_pairs" title="Permalink to this definition">¶</a></dt>
<dd><p>Find uniq pairs of atoms and analyse them
Input:</p>
<p>segtyp - 
three regimes for cells with grain boundaries:
‘segreg’ assumes that in_calc contains carbon atom in grain volume, and creates all cases; 
‘coseg’ assumes pure cell and creates only coseg cases.
cosegregation cases of course should be the same for two regimes, however co-segregation configuations after ‘coseg’ is more easy to relax.
‘grainvol’ - searching for pairs in grain volume</p>
<p>two regimes for bulk cells:
‘bulk_triple’ - used for bulk cells without grain boundaries; first step is searching for pairs, second step for triples.
‘bulk_pairs’ - used for bulk cells without grain boundaries; searching for pairs.</p>
<p>new_name - name of created structures; at first should be added to struct_des[]
in_calc - Calculation() type or path to geo file
region - list of numbers which determine region
central_atoms - list of atoms for which pairs are constructed (Warinig! numbers in new array xcart_pores!);
- parameter to change mode;</p>
<p>xcart1imp - coordinates of first interstitial in the  grain interior</p>
<p>input_dlist_coseg - list of configurations with cosegregation cases. Needed to construct corresponding segregation cases. the format is quiet tricky</p>
<p>prec - precision of lengths used to determine unique positions.</p>
<p>gvolume_config_num - number of configuration with two atoms in grain volume choosen by user (usually should be the most favourable)</p>
<p>gbpos - position of grain boundary</p>
<p>take_final_rprimd_from - path to geo file from which rprimd will be used</p>
<p>target_znucl - numbers of target atoms</p>
<p>max_dist_between_atoms - now at least used for ‘bulk_pairs’ and ‘bulk_triple’; maximum length of found pairs.</p>
<p>add_typat - mannualy set please update</p>
</dd></dl>

<dl class="function">
<dt id="siman.pairs.wrapper_create_coseg">
<code class="descclassname">siman.pairs.</code><code class="descname">wrapper_create_coseg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/pairs.html#wrapper_create_coseg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.pairs.wrapper_create_coseg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.pairs.wrapper_create_coseg_C1">
<code class="descclassname">siman.pairs.</code><code class="descname">wrapper_create_coseg_C1</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/pairs.html#wrapper_create_coseg_C1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.pairs.wrapper_create_coseg_C1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.pairs.wrapper_create_coseg_CSL7s">
<code class="descclassname">siman.pairs.</code><code class="descname">wrapper_create_coseg_CSL7s</code><span class="sig-paren">(</span><em>calc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/pairs.html#wrapper_create_coseg_CSL7s"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.pairs.wrapper_create_coseg_CSL7s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.pairs.wrapper_create_coseg_T1s">
<code class="descclassname">siman.pairs.</code><code class="descname">wrapper_create_coseg_T1s</code><span class="sig-paren">(</span><em>calc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/pairs.html#wrapper_create_coseg_T1s"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.pairs.wrapper_create_coseg_T1s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.pairs.wrapper_create_coseg_T2">
<code class="descclassname">siman.pairs.</code><code class="descname">wrapper_create_coseg_T2</code><span class="sig-paren">(</span><em>calc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/pairs.html#wrapper_create_coseg_T2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.pairs.wrapper_create_coseg_T2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.pairs.wrapper_create_pairs_H">
<code class="descclassname">siman.pairs.</code><code class="descname">wrapper_create_pairs_H</code><span class="sig-paren">(</span><em>basename=None, add_typat=[2, 3], path2temp=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/pairs.html#wrapper_create_pairs_H"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.pairs.wrapper_create_pairs_H" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-siman.picture_functions">
<span id="siman-picture-functions-module"></span><h2>siman.picture_functions module<a class="headerlink" href="#module-siman.picture_functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.picture_functions.fit_and_plot">
<code class="descclassname">siman.picture_functions.</code><code class="descname">fit_and_plot</code><span class="sig-paren">(</span><em>ax=None</em>, <em>power=None</em>, <em>xlabel=None</em>, <em>ylabel=None</em>, <em>image_name=None</em>, <em>filename=None</em>, <em>show=None</em>, <em>pad=None</em>, <em>xlim=None</em>, <em>ylim=None</em>, <em>title=None</em>, <em>figsize=None</em>, <em>xlog=False</em>, <em>ylog=False</em>, <em>scatter=False</em>, <em>legend=False</em>, <em>ncol=1</em>, <em>fontsize=None</em>, <em>legend_fontsize=None</em>, <em>markersize=None</em>, <em>linewidth=None</em>, <em>hor=False</em>, <em>ver=True</em>, <em>fig_format='eps'</em>, <em>dpi=300</em>, <em>ver_lines=None</em>, <em>xy_line=None</em>, <em>x_nbins=None</em>, <em>alpha=0.8</em>, <em>fill=False</em>, <em>first=True</em>, <em>last=True</em>, <em>convex=None</em>, <em>dashes=None</em>, <em>corner_letter=None</em>, <em>hide_ylabels=None</em>, <em>hide_xlabels=None</em>, <em>annotate=None</em>, <em>**data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/picture_functions.html#fit_and_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.picture_functions.fit_and_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot multiple plots on one axes using <em>data</em></p>
<p>return filename of saved plot</p>
<p>ax (axes) - matplotlib axes object - to create multiple axes plots</p>
<dl class="docutils">
<dt>data - each entry should be </dt>
<dd>(X, Y, fmt) 
or 
(X, Y, fmt, label) 
or
{‘x’:,’y’:, ‘fmt’:, ‘label’, ‘xticks’ }    not implemented for powers and scatter yet
or
(X, Y, R, fmt) - for scatter = 1, R - size of spots</dd>
</dl>
<p>first, last - allows to call this function multiple times to put several plots on one axes. Use first = 1, last = 0 for the first plot, 0, 0 for intermidiate, and 0, 1 for last</p>
<p>power (int) - the power of polynom, turn on fitting</p>
<p>scatter (bool) - plot scatter points - the data format is slightly different - see <em>data</em></p>
<p>convex (bool) - plot convex hull around points like in ATAT</p>
<p>fill (bool) - fill under the curves</p>
<p>filename (str) - name of file with figure, image_name - deprecated
fig_format (str) - format of saved file.
dpi    - resolution of saved file</p>
<p>ver_lines - list of dic args for  vertical lines {‘x’:, ‘c’, ‘lw’:, ‘ls’:}
ver - vertical line at 0
hor - horizontal line at 0</p>
<p>hide_ylabels - just hide numbers</p>
<p>ncol - number of legend columns</p>
<p>corner_letter - letter in the corner of the plot</p>
<p>pad - additional padding, if dict than the same keys as in plt.subplots_adjust() are used</p>
<p>annotate - annotate each point, ‘annotates’ list should be in data dic!</p>
<p>linewidth - was 3 !
markersize - was 10</p>
<p>x_nbins - number of ticks</p>
<p>TODO:
remove some arguments that can be provided in data dict</p>
</dd></dl>

<dl class="function">
<dt id="siman.picture_functions.plot_and_annotate">
<code class="descclassname">siman.picture_functions.</code><code class="descname">plot_and_annotate</code><span class="sig-paren">(</span><em>power=2</em>, <em>xlabel='xlabel'</em>, <em>ylabel='ylabel'</em>, <em>image_name=None</em>, <em>xlim=None</em>, <em>ylim=None</em>, <em>title=None</em>, <em>fit=None</em>, <em>legend=None</em>, <em>**data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/picture_functions.html#plot_and_annotate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.picture_functions.plot_and_annotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Should be used in two below sections!
Creates one plot with two dependecies and fit them;
return minimum fitted value of x2 and corresponding valume of y2; 
if name == “” image will not be plotted
power - the power of polynom</p>
<p>data - each entry should be (X, Y, ‘r-‘)</p>
</dd></dl>

<dl class="function">
<dt id="siman.picture_functions.plot_bar">
<code class="descclassname">siman.picture_functions.</code><code class="descname">plot_bar</code><span class="sig-paren">(</span><em>xlabel='xlabel'</em>, <em>ylabel='ylabel'</em>, <em>xlim=None</em>, <em>ylim=None</em>, <em>image_name=None</em>, <em>title=None</em>, <em>bottom=0.18</em>, <em>hspace=0.15</em>, <em>barwidth=0.2</em>, <em>data1=[]</em>, <em>data2=[]</em>, <em>data3=[]</em>, <em>data4=[]</em>, <em>**data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/picture_functions.html#plot_bar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.picture_functions.plot_bar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.picture_functions.plot_bar_simple">
<code class="descclassname">siman.picture_functions.</code><code class="descname">plot_bar_simple</code><span class="sig-paren">(</span><em>xlabel='xlabel'</em>, <em>ylabel='ylabel'</em>, <em>xlim=None</em>, <em>ylim=None</em>, <em>image_name=None</em>, <em>title=None</em>, <em>data=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/picture_functions.html#plot_bar_simple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.picture_functions.plot_bar_simple" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.picture_functions.plot_conv">
<code class="descclassname">siman.picture_functions.</code><code class="descname">plot_conv</code><span class="sig-paren">(</span><em>list_of_calculations=None</em>, <em>calc=None</em>, <em>type_of_plot=None</em>, <em>conv_ext=[]</em>, <em>labelnames=None</em>, <em>cl=None</em>, <em>plot=1</em>, <em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/picture_functions.html#plot_conv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.picture_functions.plot_conv" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows to fit and plot different properties;
Input:
‘type_of_plot’ - (“fit_gb_volume”-fits gb energies and volume and plot dependencies without relaxation and after it,</p>
<blockquote>
<div>‘dimer’</div></blockquote>
<p>cl - calculation to use - new interface, please rewrite the old one</p>
</dd></dl>

<dl class="function">
<dt id="siman.picture_functions.plot_mep">
<code class="descclassname">siman.picture_functions.</code><code class="descname">plot_mep</code><span class="sig-paren">(</span><em>atom_pos</em>, <em>mep_energies</em>, <em>image_name=None</em>, <em>filename=None</em>, <em>show=None</em>, <em>plot=1</em>, <em>fitplot_args=None</em>, <em>style_dic=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/picture_functions.html#plot_mep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.picture_functions.plot_mep" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for NEB method
atom_pos (list) - xcart positions of diffusing atom along the path,
mep_energies (list) - full energies of the system corresponding to atom_pos</p>
<p>image_name - deprecated, use filename
style_dic - dictionary with styles</p>
<blockquote>
<div>‘p’ - style of points
‘l’ - style of labels
‘label’ - label of points</div></blockquote>
<p>plot - if plot or not</p>
</dd></dl>

<dl class="function">
<dt id="siman.picture_functions.process_fig_filename">
<code class="descclassname">siman.picture_functions.</code><code class="descname">process_fig_filename</code><span class="sig-paren">(</span><em>image_name</em>, <em>fig_format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/picture_functions.html#process_fig_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.picture_functions.process_fig_filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-siman.project_funcs">
<span id="siman-project-funcs-module"></span><h2>siman.project_funcs module<a class="headerlink" href="#module-siman.project_funcs" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.project_funcs.alkali_bar">
<code class="descclassname">siman.project_funcs.</code><code class="descname">alkali_bar</code><span class="sig-paren">(</span><em>m</em>, <em>param</em>, <em>option=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#alkali_bar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.alkali_bar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.project_funcs.alkali_bar2">
<code class="descclassname">siman.project_funcs.</code><code class="descname">alkali_bar2</code><span class="sig-paren">(</span><em>m</em>, <em>param=None</em>, <em>option=''</em>, <em>plot_type='bar'</em>, <em>suf=''</em>, <em>reindex=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#alkali_bar2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.alkali_bar2" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div>bulk mod, volume change, average voltage</div></blockquote>
<p>plot bar figures for paper7</p>
<p>m - dataframe object with data build from output of calc_barriers()
param</p>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt>val - y value to plot</dt>
<dd><ul class="first last">
<li>barrier</li>
</ul>
</dd>
</dl>
</li>
<li>yl - y legend</li>
<li>h - high of figure</li>
<li>fig - figure name</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>option - </dt>
<dd>1 - compare Li Na K
2 - compare IS and DS on one plot</dd>
</dl>
<p>reindex - change the order of index - for each project is added additionaly</p>
<dl class="docutils">
<dt>plot_type </dt>
<dd>bar
dAO_barrier - specific plot</dd>
</dl>
<p>suf (str) - arbirtary suffix</p>
<p>param[‘val’] - [‘redox’, ‘vol_red’]</p>
</dd></dl>

<dl class="function">
<dt id="siman.project_funcs.calc_antisite_defects">
<code class="descclassname">siman.project_funcs.</code><code class="descname">calc_antisite_defects</code><span class="sig-paren">(</span><em>dpi=300</em>, <em>image_format='eps'</em>, <em>update=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#calc_antisite_defects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.calc_antisite_defects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.project_funcs.calc_antisite_defects3">
<code class="descclassname">siman.project_funcs.</code><code class="descname">calc_antisite_defects3</code><span class="sig-paren">(</span><em>update=0</em>, <em>cathodes=None</em>, <em>param_dic=None</em>, <em>add_loop_dic=None</em>, <em>only=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#calc_antisite_defects3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.calc_antisite_defects3" title="Permalink to this definition">¶</a></dt>
<dd><p>‘add’ - element to be inserted in void!
if provided
only - only these configurations are considered</p>
</dd></dl>

<dl class="function">
<dt id="siman.project_funcs.calc_barriers">
<code class="descclassname">siman.project_funcs.</code><code class="descname">calc_barriers</code><span class="sig-paren">(</span><em>mode=''</em>, <em>del_ion=''</em>, <em>new_ion=''</em>, <em>func='gga+u'</em>, <em>show_fit=False</em>, <em>up=None</em>, <em>upA=None</em>, <em>upB=None</em>, <em>upC=None</em>, <em>param_dic=None</em>, <em>run_sc=1</em>, <em>run_neb=1</em>, <em>up_add_loop='up2'</em>, <em>up_res='up1'</em>, <em>add_loop_dic=None</em>, <em>fitplot_args=None</em>, <em>nise=1</em>, <em>choose_outcar_global=None</em>, <em>cathodes=None</em>, <em>style_dic=None</em>, <em>readfiles=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#calc_barriers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.calc_barriers" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplifies calculation of intercalation voltages
and barriers by performing step by step calculations - 
remove cations or replace cations,
create supercell, optimize supercell, calculate migration barriers</p>
<dl class="docutils">
<dt>mode (str) -</dt>
<dd><ul class="first">
<li><dl class="first docutils">
<dt>‘normal’</dt>
<dd><p class="first last">param_dic[‘start_pos’] (int) - number of starting non-eqiv position
param_dic[‘end_pos’] (int)   - number of final non-eqiv position</p>
</dd>
</dl>
</li>
<li><p class="first">‘replace’ - creates additional structures by replacing cations</p>
<blockquote>
<div><ul class="simple">
<li><em>new_ion</em> (str) - choose new ion</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">‘make_ds’  - creates deintercalated structures by removing all cations and then inserting in analogy to</p>
<blockquote>
<div><ul class="simple">
<li><em>del_ion</em> - ions to be deleted either by replacement or removing, use ‘Li Na’ if both should be removed</li>
</ul>
<p>param_dic[‘neb_search_voids’] - if exists then in ‘make_ds’ mode new voids are searched as final positions</p>
</div></blockquote>
</li>
<li><p class="first">func - functional either gga or gga+u, if gga is used the energies are taken for u=0, however</p>
</li>
</ul>
<p class="last">take in mind that optimization was made for ‘gga+u’</p>
</dd>
</dl>
<p>nise - if 1 than neb_ise is use, if 0 than main_ise is used. Variable is useful for two-step barrier determination with the second step with fixed occ</p>
<dl class="docutils">
<dt>param_dic - dictionary with parameters</dt>
<dd><p class="first">‘id’ - starting id
‘ds’ - name of ds structure
‘itfolder’ - folder for calculation
‘main_set’ - set used for supercells and neb
‘neb_set’ - set for neb used instead of main_set
‘readfiles’ - to res_loop
-del_pos - specific non-eqv position of del_ion to be removed starting from 0</p>
<ul class="simple">
<li>meps - list of tuples (start_pos, end_pos)</li>
<li>meps2 - list of tuples (i_atom_to_move, end_pos)</li>
<li>ortho - global target sizes of supercell</li>
<li>ortho.mode_id - specific target sizes of supercell</li>
<li><dl class="first docutils">
<dt>old_behaviour (bool) - if True then first optimization of cell is not done for ‘normal’, second optimization for all modes;</dt>
<dd>if False - only first optimization for all cells</dd>
</dl>
</li>
</ul>
<p class="last">‘old.’+mode_id
! war</p>
</dd>
</dl>
<p>run_sc - run supercell construction part
run_neb - run neb construction part</p>
<p>style_dic - passed to plot_mep()</p>
<p>choose_outcar_global - allows to override param_dic values, choose outcar to read from sequence set or u-ramp loop</p>
<p>cathodes - list of lists - another way to configure the calculation - was initially used</p>
<p>update</p>
<p>TODO
curver - is 1!!! check if it works correctly for other cases</p>
<p>return</p>
</dd></dl>

<dl class="function">
<dt id="siman.project_funcs.calc_charged">
<code class="descclassname">siman.project_funcs.</code><code class="descname">calc_charged</code><span class="sig-paren">(</span><em>cl</em>, <em>del_dic</em>, <em>name=None</em>, <em>run=0</em>, <em>ise='4uis'</em>, <em>it_folder=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#calc_charged"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.calc_charged" title="Permalink to this definition">¶</a></dt>
<dd><p>create charged by removing specific sets of atoms provided in del_dic manually starting from 1</p>
</dd></dl>

<dl class="function">
<dt id="siman.project_funcs.calc_material">
<code class="descclassname">siman.project_funcs.</code><code class="descname">calc_material</code><span class="sig-paren">(</span><em>mode=''</em>, <em>del_ion=''</em>, <em>new_ion=''</em>, <em>func='gga+u'</em>, <em>show_fit=False</em>, <em>up=None</em>, <em>upA=None</em>, <em>upB=None</em>, <em>upC=None</em>, <em>param_dic=None</em>, <em>run_sc=1</em>, <em>run_neb=1</em>, <em>up_add_loop='up2'</em>, <em>up_res='up1'</em>, <em>add_loop_dic=None</em>, <em>fitplot_args=None</em>, <em>nise=1</em>, <em>choose_outcar_global=None</em>, <em>cathodes=None</em>, <em>style_dic=None</em>, <em>readfiles=1</em><span class="sig-paren">)</span><a class="headerlink" href="#siman.project_funcs.calc_material" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplifies calculation of intercalation voltages
and barriers by performing step by step calculations - 
remove cations or replace cations,
create supercell, optimize supercell, calculate migration barriers</p>
<dl class="docutils">
<dt>mode (str) -</dt>
<dd><ul class="first">
<li><dl class="first docutils">
<dt>‘normal’</dt>
<dd><p class="first last">param_dic[‘start_pos’] (int) - number of starting non-eqiv position
param_dic[‘end_pos’] (int)   - number of final non-eqiv position</p>
</dd>
</dl>
</li>
<li><p class="first">‘replace’ - creates additional structures by replacing cations</p>
<blockquote>
<div><ul class="simple">
<li><em>new_ion</em> (str) - choose new ion</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">‘make_ds’  - creates deintercalated structures by removing all cations and then inserting in analogy to</p>
<blockquote>
<div><ul class="simple">
<li><em>del_ion</em> - ions to be deleted either by replacement or removing, use ‘Li Na’ if both should be removed</li>
</ul>
<p>param_dic[‘neb_search_voids’] - if exists then in ‘make_ds’ mode new voids are searched as final positions</p>
</div></blockquote>
</li>
<li><p class="first">func - functional either gga or gga+u, if gga is used the energies are taken for u=0, however</p>
</li>
</ul>
<p class="last">take in mind that optimization was made for ‘gga+u’</p>
</dd>
</dl>
<p>nise - if 1 than neb_ise is use, if 0 than main_ise is used. Variable is useful for two-step barrier determination with the second step with fixed occ</p>
<dl class="docutils">
<dt>param_dic - dictionary with parameters</dt>
<dd><p class="first">‘id’ - starting id
‘ds’ - name of ds structure
‘itfolder’ - folder for calculation
‘main_set’ - set used for supercells and neb
‘neb_set’ - set for neb used instead of main_set
‘readfiles’ - to res_loop
-del_pos - specific non-eqv position of del_ion to be removed starting from 0</p>
<ul class="simple">
<li>meps - list of tuples (start_pos, end_pos)</li>
<li>meps2 - list of tuples (i_atom_to_move, end_pos)</li>
<li>ortho - global target sizes of supercell</li>
<li>ortho.mode_id - specific target sizes of supercell</li>
<li><dl class="first docutils">
<dt>old_behaviour (bool) - if True then first optimization of cell is not done for ‘normal’, second optimization for all modes;</dt>
<dd>if False - only first optimization for all cells</dd>
</dl>
</li>
</ul>
<p class="last">‘old.’+mode_id
! war</p>
</dd>
</dl>
<p>run_sc - run supercell construction part
run_neb - run neb construction part</p>
<p>style_dic - passed to plot_mep()</p>
<p>choose_outcar_global - allows to override param_dic values, choose outcar to read from sequence set or u-ramp loop</p>
<p>cathodes - list of lists - another way to configure the calculation - was initially used</p>
<p>update</p>
<p>TODO
curver - is 1!!! check if it works correctly for other cases</p>
<p>return</p>
</dd></dl>

<dl class="function">
<dt id="siman.project_funcs.calc_strain_influence">
<code class="descclassname">siman.project_funcs.</code><code class="descname">calc_strain_influence</code><span class="sig-paren">(</span><em>cl_b</em>, <em>replace=False</em>, <em>rep_pos=None</em>, <em>half=False</em>, <em>del_el_list=None</em>, <em>del_pos_list=None</em>, <em>invert_x=None</em>, <em>vac=False</em>, <em>it_folder='Na2FePO4F/scaled'</em>, <em>plot=0</em>, <em>ise=''</em>, <em>mul_matrix=None</em>, <em>sreg=None</em>, <em>suf=None</em>, <em>up=0</em>, <em>n_scale_images=None</em>, <em>ver_lines=None</em>, <em>ylim=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#calc_strain_influence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.calc_strain_influence" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function
Creates 3 calculations
replace - if replacement of one Na by Li is needed
rep_pos - replacement pos of Na with Li
del_pos_list - del pos
vac - if False all atoms are removed, if True only one atom is removed
half - (bool) remove half of atoms (half charged)
sreg - scale_region</p>
</dd></dl>

<dl class="function">
<dt id="siman.project_funcs.cathode_screening">
<code class="descclassname">siman.project_funcs.</code><code class="descname">cathode_screening</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#cathode_screening"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.cathode_screening" title="Permalink to this definition">¶</a></dt>
<dd><p>Analyze results</p>
<p>Notes:
Eref is removed
replace res_loop with calc_redox !!!</p>
</dd></dl>

<dl class="function">
<dt id="siman.project_funcs.create_project_from_geofile">
<code class="descclassname">siman.project_funcs.</code><code class="descname">create_project_from_geofile</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#create_project_from_geofile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.create_project_from_geofile" title="Permalink to this definition">¶</a></dt>
<dd><p>empty project is added to database
get name from geofile and create required folder and put file into it  
Various rules to create project name</p>
</dd></dl>

<dl class="function">
<dt id="siman.project_funcs.e_bind">
<code class="descclassname">siman.project_funcs.</code><code class="descname">e_bind</code><span class="sig-paren">(</span><em>cl_bulk</em>, <em>cl_vac</em>, <em>cl_sol</em>, <em>cl_compl</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#e_bind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.e_bind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.project_funcs.find_matched_calculations">
<code class="descclassname">siman.project_funcs.</code><code class="descname">find_matched_calculations</code><span class="sig-paren">(</span><em>it</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#find_matched_calculations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.find_matched_calculations" title="Permalink to this definition">¶</a></dt>
<dd><p>Look for it in struct_des and find similar calcs.
Useful to find corresponding intercalated structure</p>
</dd></dl>

<dl class="function">
<dt id="siman.project_funcs.get_alkali_ion">
<code class="descclassname">siman.project_funcs.</code><code class="descname">get_alkali_ion</code><span class="sig-paren">(</span><em>st</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#get_alkali_ion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.get_alkali_ion" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.project_funcs.neb_wrapper">
<code class="descclassname">siman.project_funcs.</code><code class="descname">neb_wrapper</code><span class="sig-paren">(</span><em>param_dic=None</em>, <em>paths=None</em>, <em>run_neb=0</em>, <em>read=0</em>, <em>plot=0</em>, <em>mode='IS'</em>, <em>DS=None</em>, <em>ylim=None</em>, <em>special_case=None</em>, <em>add_loop_args=None</em>, <em>first=1</em>, <em>last=1</em>, <em>style_dic=None</em>, <em>substitute=None</em>, <em>up_res='up2'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#neb_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.neb_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows to run, read, and plot composition diffusion path;
was used for RbVPO4F and KVPO4F</p>
<dl class="docutils">
<dt>paths - list of tuples; each tuple contains (A, B, C, D, E),</dt>
<dd><dl class="first last docutils">
<dt>where A - #atom number from 0 - start position for migration</dt>
<dd><p class="first">B - end position number according add_neb
C - name of created it
D - (not nessesary) either path to occupation matrix or</p>
<blockquote>
<div>id, from which the occupation matrix should be taken for IS</div></blockquote>
<dl class="last docutils">
<dt>E - (not nessesary) either path to occupation matrix or</dt>
<dd>id, from which the occupation matrix should be taken for DS</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p>special_case: # for KVP additional static run
mode -</p>
<blockquote>
<div>‘IS’, ‘DS’</div></blockquote>
<p>DS - calc used as initial ds</p>
<p>substitute - manually substitute specific points of MEP</p>
</dd></dl>

<dl class="function">
<dt id="siman.project_funcs.optimize">
<code class="descclassname">siman.project_funcs.</code><code class="descname">optimize</code><span class="sig-paren">(</span><em>st</em>, <em>name=None</em>, <em>run=0</em>, <em>ise='4uis'</em>, <em>it_folder=None</em>, <em>fit=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#optimize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.optimize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.project_funcs.plot_UvsD">
<code class="descclassname">siman.project_funcs.</code><code class="descname">plot_UvsD</code><span class="sig-paren">(</span><em>it1</em>, <em>it2</em>, <em>it_b</em>, <em>ise</em>, <em>sc_reg</em>, <em>n_imag</em>, <em>ise_b=None</em>, <em>v_b=None</em>, <em>suf=''</em>, <em>up=0</em>, <em>legend=None</em>, <em>invert_x=False</em>, <em>linetypes=None</em>, <em>st_start=None</em>, <em>ver_lines=None</em>, <em>ylim=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#plot_UvsD"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.plot_UvsD" title="Permalink to this definition">¶</a></dt>
<dd><p>Intercalation potential vs deformation
sc_reg - scale region
n_imag - n_scale_images
suf - suffix
v_b (int) - if provided than version of base fixed to this number</p>
</dd></dl>

<dl class="function">
<dt id="siman.project_funcs.potential_barriers">
<code class="descclassname">siman.project_funcs.</code><code class="descname">potential_barriers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#potential_barriers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.potential_barriers" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates figures and tables for report</p>
</dd></dl>

<dl class="function">
<dt id="siman.project_funcs.process_cathode_material">
<code class="descclassname">siman.project_funcs.</code><code class="descname">process_cathode_material</code><span class="sig-paren">(</span><em>projectname</em>, <em>step=1</em>, <em>target_x=0</em>, <em>update=0</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#process_cathode_material"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.process_cathode_material" title="Permalink to this definition">¶</a></dt>
<dd><p>AI module to process cif file and automatic calculation of standard properties of cathode material</p>
<p>step 1 - read geo and run simple relaxation</p>
<p>step 2 - calc barriers, IS</p>
<p>step 3 - calc barriers, DS</p>
<p>step 4 - make table with lattice constants for IS and DS</p>
<p>step 5 - make table with intercalation potential</p>
<p>INPUT:
target_x (float) - required concentration of Na in DS state
update - allows to rewrite service table
params (dic)</p>
<blockquote>
<div>show_fit
run_neb
up_SC
up_res
atom_to_move</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="siman.project_funcs.redox">
<code class="descclassname">siman.project_funcs.</code><code class="descname">redox</code><span class="sig-paren">(</span><em>run=0</em>, <em>ramp=0</em>, <em>readfiles=0</em>, <em>input_geo_format='vasp'</em>, <em>image_name=None</em>, <em>image_format='pdf'</em>, <em>dpi=300</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#redox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.redox" title="Permalink to this definition">¶</a></dt>
<dd><p>Run, analyze, plot redox potentials</p>
</dd></dl>

<dl class="function">
<dt id="siman.project_funcs.replace">
<code class="descclassname">siman.project_funcs.</code><code class="descname">replace</code><span class="sig-paren">(</span><em>update</em>, <em>cl</em>, <em>el1</em>, <em>el2</em>, <em>reptype=None</em>, <em>show_fit=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#replace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.replace" title="Permalink to this definition">¶</a></dt>
<dd><p>cl - calculation to work with
el1 - element to be replaced
el2 - replace by this
reptype - type of replacement</p>
<blockquote>
<div>‘full’ - all atoms of specific symmetry type
‘one’ - only one atom of specific symmetry type</div></blockquote>
<p>update - update</p>
</dd></dl>

<dl class="function">
<dt id="siman.project_funcs.workflow">
<code class="descclassname">siman.project_funcs.</code><code class="descname">workflow</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/project_funcs.html#workflow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.project_funcs.workflow" title="Permalink to this definition">¶</a></dt>
<dd><p>OCC</p>
</dd></dl>

</div>
<div class="section" id="module-siman.set_functions">
<span id="siman-set-functions-module"></span><h2>siman.set_functions module<a class="headerlink" href="#module-siman.set_functions" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="siman.set_functions.InputSet">
<em class="property">class </em><code class="descclassname">siman.set_functions.</code><code class="descname">InputSet</code><span class="sig-paren">(</span><em>ise</em>, <em>path_to_potcar=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>docstring for InputSet
The second important class which is used to store 
parameters of calculation</p>
<p>For VASP parameters <em>self.vasp_params</em> dict is used;
usually it contains the parameters in the same format as INCAR file.
However, several exceptions are:
for ‘LDAUU’, ‘LDAUJ’, ‘LDAUL’ you should provide
dictionaries with correponding values for each element in the form: {‘Co’:3.4,}.</p>
<p>self.potdir (dict) - name of POTCAR folder for each element, for example {3:’Li’, 8:’O’}</p>
<p>self.blockfolder (str) - additional subfolder will be created calculation with this set</p>
<p>self.save_last_wave (bool) - set True to save last WAVECAR in u-ramping mode</p>
<p>self.kpoints_file - if True, k-points file is created, if string then it is considered as path to external kpoints file</p>
<p>self.path_to_potcar (str) - explicit path to potcar, can be used instead of self.potdir</p>
<p>self.set_sequence (list)  - list of InputSet() objects to make multiset runs. The current set is used as a first one.</p>
<p>TODO
Describe the difference between update() and load() methods !</p>
<dl class="method">
<dt id="siman.set_functions.InputSet.add_conv">
<code class="descname">add_conv</code><span class="sig-paren">(</span><em>arg</em>, <em>type_of_conv</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet.add_conv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet.add_conv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.set_functions.InputSet.add_conv_kpoint">
<code class="descname">add_conv_kpoint</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet.add_conv_kpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet.add_conv_kpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.set_functions.InputSet.add_conv_tsmear">
<code class="descname">add_conv_tsmear</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet.add_conv_tsmear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet.add_conv_tsmear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.set_functions.InputSet.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>param</em>, <em>inplace=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Update parameters of set from dict param</p>
</dd></dl>

<dl class="method">
<dt id="siman.set_functions.InputSet.printme">
<code class="descname">printme</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet.printme"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet.printme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.set_functions.InputSet.read_incar">
<code class="descname">read_incar</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet.read_incar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet.read_incar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.set_functions.InputSet.set_add_nbands">
<code class="descname">set_add_nbands</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet.set_add_nbands"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet.set_add_nbands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.set_functions.InputSet.set_attrp">
<code class="descname">set_attrp</code><span class="sig-paren">(</span><em>token</em>, <em>arg</em>, <em>des='see manual'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet.set_attrp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet.set_attrp" title="Permalink to this definition">¶</a></dt>
<dd><p>set any attribute.</p>
</dd></dl>

<dl class="method">
<dt id="siman.set_functions.InputSet.set_compare_with">
<code class="descname">set_compare_with</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet.set_compare_with"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet.set_compare_with" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.set_functions.InputSet.set_ngkpt">
<code class="descname">set_ngkpt</code><span class="sig-paren">(</span><em>arg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet.set_ngkpt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet.set_ngkpt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.set_functions.InputSet.set_potential">
<code class="descname">set_potential</code><span class="sig-paren">(</span><em>znucl</em>, <em>arg=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet.set_potential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet.set_potential" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.set_functions.InputSet.set_relaxation_type">
<code class="descname">set_relaxation_type</code><span class="sig-paren">(</span><em>type_of_relaxation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet.set_relaxation_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet.set_relaxation_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.set_functions.InputSet.set_vaspp">
<code class="descname">set_vaspp</code><span class="sig-paren">(</span><em>token</em>, <em>arg</em>, <em>des='see manual'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet.set_vaspp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet.set_vaspp" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for setting vasp parameters.</p>
</dd></dl>

<dl class="method">
<dt id="siman.set_functions.InputSet.toJSON">
<code class="descname">toJSON</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet.toJSON"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet.toJSON" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="siman.set_functions.InputSet.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#InputSet.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.InputSet.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="siman.set_functions.inherit_iset">
<code class="descclassname">siman.set_functions.</code><code class="descname">inherit_iset</code><span class="sig-paren">(</span><em>ise_new</em>, <em>ise_from</em>, <em>varset</em>, <em>override=False</em>, <em>newblockfolder=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#inherit_iset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.inherit_iset" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new set copying from existing and update some fields. If ise_from does not exist create new</p>
</dd></dl>

<dl class="function">
<dt id="siman.set_functions.init_default_sets">
<code class="descclassname">siman.set_functions.</code><code class="descname">init_default_sets</code><span class="sig-paren">(</span><em>init=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#init_default_sets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.init_default_sets" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre-defined sets for Vasp</p>
</dd></dl>

<dl class="function">
<dt id="siman.set_functions.make_sets_for_conv">
<code class="descclassname">siman.set_functions.</code><code class="descname">make_sets_for_conv</code><span class="sig-paren">(</span><em>isefrom</em>, <em>conv</em>, <em>list_of_parameters</em>, <em>varset</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#make_sets_for_conv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.make_sets_for_conv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.set_functions.read_vasp_sets">
<code class="descclassname">siman.set_functions.</code><code class="descname">read_vasp_sets</code><span class="sig-paren">(</span><em>user_vasp_sets</em>, <em>override_global=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/set_functions.html#read_vasp_sets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.set_functions.read_vasp_sets" title="Permalink to this definition">¶</a></dt>
<dd><p>Read user sets and add them to project database
Now for VASP
###INPUT:</p>
<blockquote>
<div><ul class="simple">
<li>varset (dict) - database dict with all sets of a project</li>
<li>user_vasp_sets (list) - list of user sets that describes creation of new sets based on inheritance</li>
<li>override - allows to recreate all sets; can be usefull than you want to add some new property to all your sets - very dangerous to do!</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>###RETURN:</dt>
<dd><ul class="first last simple">
<li>user_vasp_sets (list)</li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-siman.small_functions">
<span id="siman-small-functions-module"></span><h2>siman.small_functions module<a class="headerlink" href="#module-siman.small_functions" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="siman.small_functions.TracePrints">
<em class="property">class </em><code class="descclassname">siman.small_functions.</code><code class="descname">TracePrints</code><a class="reference internal" href="_modules/siman/small_functions.html#TracePrints"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.TracePrints" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="siman.small_functions.TracePrints.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#TracePrints.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.TracePrints.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="siman.small_functions.angle">
<code class="descclassname">siman.small_functions.</code><code class="descname">angle</code><span class="sig-paren">(</span><em>v1</em>, <em>v2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#angle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.angle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.small_functions.bash_chk_file_cmd">
<code class="descclassname">siman.small_functions.</code><code class="descname">bash_chk_file_cmd</code><span class="sig-paren">(</span><em>file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#bash_chk_file_cmd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.bash_chk_file_cmd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.small_functions.cat_files">
<code class="descclassname">siman.small_functions.</code><code class="descname">cat_files</code><span class="sig-paren">(</span><em>files</em>, <em>output_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#cat_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.cat_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.small_functions.cwd">
<code class="descclassname">siman.small_functions.</code><code class="descname">cwd</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#cwd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.cwd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.small_functions.get_common_chemical_base">
<code class="descclassname">siman.small_functions.</code><code class="descname">get_common_chemical_base</code><span class="sig-paren">(</span><em>st1</em>, <em>st2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#get_common_chemical_base"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.get_common_chemical_base" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.small_functions.grep_file">
<code class="descclassname">siman.small_functions.</code><code class="descname">grep_file</code><span class="sig-paren">(</span><em>string</em>, <em>file</em>, <em>reverse=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#grep_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.grep_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.small_functions.gunzip_file">
<code class="descclassname">siman.small_functions.</code><code class="descname">gunzip_file</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#gunzip_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.gunzip_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.small_functions.is_list_like">
<code class="descclassname">siman.small_functions.</code><code class="descname">is_list_like</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#is_list_like"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.is_list_like" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.small_functions.is_string_like">
<code class="descclassname">siman.small_functions.</code><code class="descname">is_string_like</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#is_string_like"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.is_string_like" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.small_functions.latex_chem">
<code class="descclassname">siman.small_functions.</code><code class="descname">latex_chem</code><span class="sig-paren">(</span><em>formula</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#latex_chem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.latex_chem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.small_functions.latex_spg">
<code class="descclassname">siman.small_functions.</code><code class="descname">latex_spg</code><span class="sig-paren">(</span><em>spg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#latex_spg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.latex_spg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.small_functions.list2string">
<code class="descclassname">siman.small_functions.</code><code class="descname">list2string</code><span class="sig-paren">(</span><em>ilist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#list2string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.list2string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.small_functions.makedir">
<code class="descclassname">siman.small_functions.</code><code class="descname">makedir</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#makedir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.makedir" title="Permalink to this definition">¶</a></dt>
<dd><p><em>path</em> - path to some file 
Make dirname(path) directory if it does not exist</p>
</dd></dl>

<dl class="function">
<dt id="siman.small_functions.merge_dics">
<code class="descclassname">siman.small_functions.</code><code class="descname">merge_dics</code><span class="sig-paren">(</span><em>dic1</em>, <em>dic2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#merge_dics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.merge_dics" title="Permalink to this definition">¶</a></dt>
<dd><p>return dic</p>
</dd></dl>

<dl class="function">
<dt id="siman.small_functions.red_prec">
<code class="descclassname">siman.small_functions.</code><code class="descname">red_prec</code><span class="sig-paren">(</span><em>value</em>, <em>precision=100.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/small_functions.html#red_prec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.small_functions.red_prec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-siman.table_functions">
<span id="siman-table-functions-module"></span><h2>siman.table_functions module<a class="headerlink" href="#module-siman.table_functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.table_functions.generate_latex_report">
<code class="descclassname">siman.table_functions.</code><code class="descname">generate_latex_report</code><span class="sig-paren">(</span><em>text</em>, <em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/table_functions.html#generate_latex_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.table_functions.generate_latex_report" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.table_functions.geo_table_row">
<code class="descclassname">siman.table_functions.</code><code class="descname">geo_table_row</code><span class="sig-paren">(</span><em>cl=None</em>, <em>st=None</em>, <em>name=''</em>, <em>show_alpha=0</em>, <em>mnpo4_hack=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/table_functions.html#geo_table_row"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.table_functions.geo_table_row" title="Permalink to this definition">¶</a></dt>
<dd><p>mnpo4_hack (bool) - if true exchange a and c for mnpo4 phase</p>
</dd></dl>

<dl class="function">
<dt id="siman.table_functions.latex_table">
<code class="descclassname">siman.table_functions.</code><code class="descname">latex_table</code><span class="sig-paren">(</span><em>table</em>, <em>caption</em>, <em>label</em>, <em>header=None</em>, <em>fullpage=''</em>, <em>filename=None</em>, <em>writetype='w'</em>, <em>header0=None</em>, <em>size=None</em>, <em>replace=None</em>, <em>float_format=None</em>, <em>tab_type='tabular'</em>, <em>width=0.75</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/table_functions.html#latex_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.table_functions.latex_table" title="Permalink to this definition">¶</a></dt>
<dd><p>If header is not provided, table[0] is used as a header</p>
<p>header0 - additional header0 befor main header for complex tables</p>
<p>path_to_paper should be provided</p>
<p>replace - list of tuples for replacements</p>
<p>float_format - list of float numbers</p>
<dl class="docutils">
<dt>tab_type (str) - see latex types of tables</dt>
<dd>available: 
‘tabular’
‘tabularx’</dd>
</dl>
<p>width (float) - in units of textwidth</p>
</dd></dl>

<dl class="function">
<dt id="siman.table_functions.table_geometry">
<code class="descclassname">siman.table_functions.</code><code class="descname">table_geometry</code><span class="sig-paren">(</span><em>st_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/table_functions.html#table_geometry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.table_functions.table_geometry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.table_functions.table_potentials">
<code class="descclassname">siman.table_functions.</code><code class="descname">table_potentials</code><span class="sig-paren">(</span><em>cl_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/table_functions.html#table_potentials"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.table_functions.table_potentials" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-siman.workflow_utilities">
<span id="siman-workflow-utilities-module"></span><h2>siman.workflow_utilities module<a class="headerlink" href="#module-siman.workflow_utilities" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="siman.workflow_utilities.create_segregation_cases">
<code class="descclassname">siman.workflow_utilities.</code><code class="descname">create_segregation_cases</code><span class="sig-paren">(</span><em>it</em>, <em>ise</em>, <em>verlist</em>, <em>dist_gb</em>, <em>gbpos=None</em>, <em>ise_new=None</em>, <em>option=None</em>, <em>precip_folder=None</em>, <em>use_init=False</em>, <em>precision=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/workflow_utilities.html#create_segregation_cases"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.workflow_utilities.create_segregation_cases" title="Permalink to this definition">¶</a></dt>
<dd><p>Written for Ti-Fe project.
Allows to create segregation by substituting atoms;
dist_gb - distance from gb inside which the atoms are included</p>
<p>option = ‘precip’- adding additional impurities to the already existing at gb. Please use ‘precip_folder’
use_init - allows to use initial structure.</p>
<p>!Warning PBC are not used in determination of seg positions</p>
</dd></dl>

<dl class="function">
<dt id="siman.workflow_utilities.make_defect">
<code class="descclassname">siman.workflow_utilities.</code><code class="descname">make_defect</code><span class="sig-paren">(</span><em>cl</em>, <em>el</em>, <em>st_type='end'</em>, <em>option='vac'</em>, <em>pos=None</em>, <em>ise=None</em>, <em>opt_vol=0</em>, <em>suf=''</em>, <em>it_folder=None</em>, <em>el_rep=''</em>, <em>pos_rep=1</em>, <em>pos_rep2=None</em>, <em>polaron_pos=None</em>, <em>occ_matrix=None</em>, <em>up=0</em>, <em>fit=0</em>, <em>outcar=None</em>, <em>only_read=0</em>, <em>Eref=0</em>, <em>compat1=False</em>, <em>add_loop_arg={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/workflow_utilities.html#make_defect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.workflow_utilities.make_defect" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Function allow to create point defects and run them</dt>
<dd>previous name: make_vacancy()</dd>
</dl>
<p>cl - starting Calculation 
st_type - starting structure of cl: ‘init’ or ‘end’ 
el - element to be removed or replaced</p>
<dl class="docutils">
<dt>option -</dt>
<dd>‘vac’  - make vacancy
‘rep’  - replace one atom with ‘el_rep’, 
‘pair’ - make vacancy -Ti complex for V-Ti project</dd>
</dl>
<p>pos - unique position of el if non-eqivalent atoms exist - for vac
pos_rep - number of position to replace from 0</p>
<p>ise - new set
opt_vol (bool) - optimize volume</p>
<p>suf (str) - mannually added suffix
it_folder - mannually provided it_folder</p>
<p>up (bool) - [ 0, 1 ] update current calculation
fit = 0,  outcar = None, only_read = 0 - flow control as usual</p>
<p>polaron_pos - choose polaron position
occ_matrix - list of lists see format in classes</p>
<p>compat1 - compatability with previous calculations, which were used for Na2FePO4F project</p>
<p>Eref - reference energy for solution energy</p>
<p>TODO: rename to ?_point_defects()</p>
</dd></dl>

<dl class="function">
<dt id="siman.workflow_utilities.optimize_wrapper">
<code class="descclassname">siman.workflow_utilities.</code><code class="descname">optimize_wrapper</code><span class="sig-paren">(</span><em>cl</em>, <em>ise</em>, <em>add=0</em>, <em>show_fit=1</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/workflow_utilities.html#optimize_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.workflow_utilities.optimize_wrapper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.workflow_utilities.prepare">
<code class="descclassname">siman.workflow_utilities.</code><code class="descname">prepare</code><span class="sig-paren">(</span><em>it_new</em>, <em>opt_vol</em>, <em>it_folder</em>, <em>ise</em>, <em>cl</em>, <em>st_type</em>, <em>option</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/workflow_utilities.html#prepare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.workflow_utilities.prepare" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="siman.workflow_utilities.process_modified">
<code class="descclassname">siman.workflow_utilities.</code><code class="descname">process_modified</code><span class="sig-paren">(</span><em>cl</em>, <em>mod_dic=None</em>, <em>scale_region=(-4</em>, <em>4)</em>, <em>opt_vol=1</em>, <em>fit=0</em>, <em>st_type='end'</em>, <em>name=None</em>, <em>el_new=None</em>, <em>run=0</em>, <em>ise=None</em>, <em>it_folder=None</em>, <em>mode=None</em>, <em>add_loop_arg=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/workflow_utilities.html#process_modified"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.workflow_utilities.process_modified" title="Permalink to this definition">¶</a></dt>
<dd><p>inherited from create_charges - functionality is extended
The utility allows to (contrlolled by mode parameter):
1) create charged cells by removing specific atoms provided in del_dic
2) replace specific atoms</p>
<p>add_loop
res_loop</p>
<dl class="docutils">
<dt>mode - </dt>
<dd>delete
remove
None</dd>
</dl>
<p>mod_dic - dic of configurations with atom numbers starting from 1</p>
</dd></dl>

<dl class="function">
<dt id="siman.workflow_utilities.run_wrapper">
<code class="descclassname">siman.workflow_utilities.</code><code class="descname">run_wrapper</code><span class="sig-paren">(</span><em>sts</em>, <em>ise=None</em>, <em>add=0</em>, <em>cl=None</em>, <em>suf='w'</em>, <em>it_folder=None</em>, <em>ngkpt=None</em>, <em>acc=None</em>, <em>ise1=None</em>, <em>acc2=None</em>, <em>ise2=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/siman/workflow_utilities.html#run_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#siman.workflow_utilities.run_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Several  structures</p>
</dd></dl>

</div>
<div class="section" id="module-siman">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-siman" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table of Contents</a></h3>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/siman.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Siman 0.9.5 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Dmitry Aksenov.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1.
    </div>
  </body>
</html>